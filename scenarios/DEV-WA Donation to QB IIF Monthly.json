{
    "name": "DEV-WA Donation to QB IIF Monthly (v0.1.1)",
    "flow": [
        {
            "id": 22,
            "module": "datastore:GetRecord",
            "version": 1,
            "parameters": {
                "datastore": 24063
            },
            "mapper": {
                "key": "b69e6f603db1"
            },
            "metadata": {
                "designer": {
                    "x": 0,
                    "y": 450,
                    "name": "Get WA-QB Config"
                },
                "restore": {
                    "datastore": {
                        "label": "WA-QB-Invoice-Config"
                    }
                },
                "parameters": [
                    {
                        "name": "datastore",
                        "type": "datastore",
                        "label": "Data store",
                        "required": true
                    }
                ],
                "expect": [
                    {
                        "name": "key",
                        "type": "text",
                        "label": "Key",
                        "required": true
                    }
                ],
                "interface": [
                    {
                        "name": "WA Org Name",
                        "type": "text",
                        "label": null,
                        "default": "Client Name",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "QB Version",
                        "spec": [
                            {
                                "name": "QB Country",
                                "type": "text",
                                "label": null,
                                "default": "CAD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Platform",
                                "type": "text",
                                "label": null,
                                "default": "Desktop",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA Org Env",
                        "type": "text",
                        "label": null,
                        "default": "Dev",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "Customer Name",
                        "type": "text",
                        "label": null,
                        "default": "({Id}) {Name}",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "Customer Billing Address",
                        "spec": [
                            {
                                "name": "Address1",
                                "type": "text",
                                "label": null,
                                "default": "{User_DisplayName}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address2",
                                "type": "text",
                                "label": null,
                                "default": "{User_Email}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address3",
                                "type": "text",
                                "label": null,
                                "default": "{AddressLine1}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address4",
                                "type": "text",
                                "label": null,
                                "default": "{AddressLine2}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address5",
                                "type": "text",
                                "label": null,
                                "default": "{City}, {Province}  {PostalCode}",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA INVOICE Time Periods",
                        "spec": [
                            {
                                "name": "Activate Invoice Jobs",
                                "type": "boolean",
                                "label": null,
                                "default": true,
                                "required": false
                            },
                            {
                                "name": "Invoice Job Scheduling Type",
                                "type": "text",
                                "label": null,
                                "default": "<Manual Dates> OR <Scheduled>",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual Start Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual End Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Scheduled Number of Months Back",
                                "type": "number",
                                "label": null,
                                "default": 1,
                                "required": false
                            },
                            {
                                "name": "Scheduled-Reference-Run Schedule",
                                "type": "text",
                                "label": null,
                                "default": "For reference only.  Frequency of schedule and day of month/week",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA Order Types",
                        "spec": {
                            "spec": [
                                {
                                    "name": "OrderType",
                                    "type": "text",
                                    "label": null,
                                    "default": "MembershipApplication",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "QB Receivables Account",
                                    "type": "text",
                                    "label": null,
                                    "default": "Accounts Receivable",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "QB Income Account Default",
                                    "type": "text",
                                    "label": null,
                                    "default": "Membership Fees",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "QB Header Class",
                                    "type": "text",
                                    "label": null,
                                    "default": "Membership",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Order Line Item Mapping",
                                    "spec": {
                                        "spec": [
                                            {
                                                "name": "OrderDetailFilter",
                                                "type": "text",
                                                "label": null,
                                                "default": "MemberLevel",
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "QB Inventory Item",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "QB Income Account Override",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "QB SubClass",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection"
                                    },
                                    "type": "array",
                                    "label": null
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "WA Order ExtraCost Exceptions",
                        "spec": {
                            "spec": [
                                {
                                    "name": "ExtraCost Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Extras: New Application Fee (not prorated)",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "EC QB Inventory Item",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "EC QB Income Account",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "EC QB SubClass",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "WA DONATION Time Periods",
                        "spec": [
                            {
                                "name": "Activate Donation Jobs",
                                "type": "boolean",
                                "label": null,
                                "default": false,
                                "required": false
                            },
                            {
                                "name": "Donation Job Scheduling Type",
                                "type": "text",
                                "label": null,
                                "default": "<Manual Dates> OR <Scheduled>",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual Start Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual End Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Scheduled Number of Months Back",
                                "type": "number",
                                "label": null,
                                "default": 1,
                                "required": false
                            },
                            {
                                "name": "Scheduled-Reference-Run Schedule",
                                "type": "text",
                                "label": null,
                                "default": "For reference only. Frequency of schedule and day of month/week",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA Donation Mapping",
                        "spec": [
                            {
                                "name": "QB Header Account",
                                "type": "text",
                                "label": null,
                                "default": "Bank Account for DEPOSIT Undeposited Funds for RECEIPT",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Income Account Default",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Header Class",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Header Memo Format",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Tax Code for Exempt",
                                "type": "text",
                                "label": null,
                                "default": "E",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Donation Campaigns",
                                "spec": {
                                    "spec": [
                                        {
                                            "name": "DonationFilter",
                                            "type": "text",
                                            "label": null,
                                            "default": "Campaign Name",
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB DON Inventory Item",
                                            "type": "text",
                                            "label": null,
                                            "default": "Donation",
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB DON Income Account",
                                            "type": "text",
                                            "label": null,
                                            "default": "Donation",
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB DON Line Notes Format",
                                            "type": "text",
                                            "label": null,
                                            "default": null,
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB DON SubClass",
                                            "type": "text",
                                            "label": null,
                                            "default": null,
                                            "required": false,
                                            "multiline": false
                                        }
                                    ],
                                    "type": "collection"
                                },
                                "type": "array",
                                "label": null
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "Sales Tax Types",
                        "spec": {
                            "spec": [
                                {
                                    "name": "Sales Tax Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Tax A Name",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax ID",
                                    "type": "text",
                                    "label": null,
                                    "default": "Tax A",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax QB Code",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Rate",
                                    "type": "number",
                                    "label": null,
                                    "default": 2,
                                    "required": false
                                },
                                {
                                    "name": "Sales Tax Account",
                                    "type": "text",
                                    "label": null,
                                    "default": "Sales Tax Payable",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Agency Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Tax Agency Name",
                                    "required": false,
                                    "multiline": false
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "Sales Tax Groups",
                        "spec": {
                            "spec": [
                                {
                                    "name": "Sales Tax Group Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Standard GST/PST sales",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax QB Group Code",
                                    "type": "text",
                                    "label": null,
                                    "default": "S",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Group Account",
                                    "type": "text",
                                    "label": null,
                                    "default": "Sales Tax Payable",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Group Agency Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "no tax agency",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "WA Tax IDs",
                                    "spec": {
                                        "type": "text",
                                        "default": "GST",
                                        "required": false,
                                        "multiline": false
                                    },
                                    "type": "array",
                                    "label": null
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "Subtotal List Name",
                        "type": "text",
                        "label": null,
                        "default": "Subtotal",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "Output File Location",
                        "spec": [
                            {
                                "name": "Storage Service",
                                "type": "text",
                                "label": null,
                                "default": "box",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Invoice Folder Path",
                                "type": "text",
                                "label": null,
                                "default": "/WAQM-{Company}/WA-Invoice-IIF-Files",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Success Invoice Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Invoice_IIF_{DateTime}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Error Invoice Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Invoice_IIF_ERROR_{DateTime}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Donation Folder Path",
                                "type": "text",
                                "label": null,
                                "default": "/WAQM-{Company}/WA-Donation-IIF-Files",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Success Donation Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Donation_IIF_{DateTime}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Error Donation Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Donation_IIF_ERROR_{DateTime}",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "Notification Emails",
                        "spec": [
                            {
                                "name": "Company Email Address",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Support Email Address",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    }
                ]
            }
        },
        {
            "id": 88,
            "module": "builtin:BasicRouter",
            "version": 1,
            "filter": {
                "name": "Check for Donation Run Config",
                "conditions": [
                    [
                        {
                            "a": "{{22.`WA DONATION Time Periods`.`Activate Donation Jobs`}}",
                            "b": "{{true}}",
                            "o": "text:equal"
                        }
                    ]
                ]
            },
            "mapper": null,
            "metadata": {
                "designer": {
                    "x": 300,
                    "y": 450
                }
            },
            "routes": [
                {
                    "flow": [
                        {
                            "id": 87,
                            "module": "datastore:SearchRecord",
                            "version": 1,
                            "parameters": {
                                "limit": null,
                                "datastore": 24064,
                                "continueWhenNoRes": true
                            },
                            "filter": {
                                "name": "Temp store of previous run records",
                                "conditions": []
                            },
                            "mapper": {
                                "sort": [
                                    {
                                        "key": "sortID",
                                        "order": 1
                                    }
                                ],
                                "filter": []
                            },
                            "metadata": {
                                "designer": {
                                    "x": 600,
                                    "y": 0
                                },
                                "restore": {
                                    "sort": {
                                        "items": [
                                            {
                                                "key": {
                                                    "mode": "chose",
                                                    "label": "sortID"
                                                },
                                                "order": {
                                                    "mode": "chose",
                                                    "label": "Ascending"
                                                }
                                            }
                                        ]
                                    },
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    },
                                    {
                                        "name": "limit",
                                        "type": "uinteger",
                                        "label": "Limit"
                                    },
                                    {
                                        "name": "continueWhenNoRes",
                                        "type": "boolean",
                                        "label": "Continue the execution of the route even if the module returns no results"
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "filter",
                                        "type": "filter",
                                        "label": "Filter",
                                        "options": {
                                            "store": "rpc://datastore@1.5.7/RpcGetUDTKeys"
                                        },
                                        "required": true
                                    },
                                    {
                                        "name": "sort",
                                        "spec": [
                                            {
                                                "name": "key",
                                                "type": "select",
                                                "label": "Key",
                                                "required": true
                                            },
                                            {
                                                "name": "order",
                                                "type": "select",
                                                "label": "Order",
                                                "options": [
                                                    {
                                                        "label": "Ascending",
                                                        "value": 1
                                                    },
                                                    {
                                                        "label": "Descending",
                                                        "value": -1
                                                    }
                                                ],
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Sort"
                                    }
                                ],
                                "interface": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number",
                                                "label": null,
                                                "default": null,
                                                "required": false
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ],
                                "advanced": true
                            }
                        }
                    ]
                },
                {
                    "flow": [
                        {
                            "id": 86,
                            "module": "datastore:DeleteAllRecords",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {},
                            "metadata": {
                                "designer": {
                                    "x": 600,
                                    "y": 600,
                                    "name": "Delete previous TMP records"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ]
                            }
                        },
                        {
                            "id": 83,
                            "module": "datastore:AddRecord",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {
                                "key": "_TRNS_Header",
                                "data": {
                                    "col01": "!TRNS",
                                    "col02": "TRNSID",
                                    "col03": "TRNSTYPE",
                                    "col04": "DATE",
                                    "col05": "ACCNT",
                                    "col06": "NAME",
                                    "col07": "CLASS",
                                    "col08": "AMOUNT",
                                    "col09": "DOCNUM",
                                    "col10": "MEMO",
                                    "col11": "CLEAR",
                                    "col12": "TOPRINT",
                                    "col13": "NAMEISTAXABLE",
                                    "col14": "PAID",
                                    "col15": "INVMEMO",
                                    "col16": "ADDR1",
                                    "col17": "ADDR2",
                                    "col18": "ADDR3",
                                    "col19": "ADDR4",
                                    "col20": "ADDR5",
                                    "col21": "PAYMETH",
                                    "col22": "",
                                    "col23": "",
                                    "col24": "",
                                    "col25": "",
                                    "sortID": "1"
                                },
                                "overwrite": true
                            },
                            "metadata": {
                                "designer": {
                                    "x": 900,
                                    "y": 600,
                                    "name": "Add !TRNS_Header"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    },
                                    "overwrite": {
                                        "mode": "chose"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "overwrite",
                                        "type": "boolean",
                                        "label": "Overwrite an existing record",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number"
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ]
                            }
                        },
                        {
                            "id": 84,
                            "module": "datastore:AddRecord",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {
                                "key": "_SPL_Header",
                                "data": {
                                    "col01": "!SPL",
                                    "col02": "SPLID",
                                    "col03": "TRNSTYPE",
                                    "col04": "DATE",
                                    "col05": "ACCNT",
                                    "col06": "NAME",
                                    "col07": "CLASS",
                                    "col08": "AMOUNT",
                                    "col09": "DOCNUM",
                                    "col10": "MEMO",
                                    "col11": "CLEAR",
                                    "col12": "QNTY",
                                    "col13": "PRICE",
                                    "col14": "INVITEM",
                                    "col15": "TAXABLE",
                                    "col16": "SALESTAXCODE",
                                    "col17": "VALADJ",
                                    "col18": "REIMBEXP",
                                    "col19": "EXTRA",
                                    "col20": "PAYMETH",
                                    "col21": "",
                                    "col22": "",
                                    "col23": "",
                                    "col24": "",
                                    "col25": "",
                                    "sortID": "2"
                                },
                                "overwrite": true
                            },
                            "metadata": {
                                "designer": {
                                    "x": 1200,
                                    "y": 600,
                                    "name": "Add !SPL_Header"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    },
                                    "overwrite": {
                                        "mode": "chose"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "overwrite",
                                        "type": "boolean",
                                        "label": "Overwrite an existing record",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number"
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ]
                            }
                        },
                        {
                            "id": 85,
                            "module": "datastore:AddRecord",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {
                                "key": "_ENDTRNS_Header",
                                "data": {
                                    "col01": "!ENDTRNS",
                                    "col02": "",
                                    "col03": "",
                                    "col04": "",
                                    "col05": "",
                                    "col06": "",
                                    "col07": "",
                                    "col08": "",
                                    "col09": "",
                                    "col10": "",
                                    "col11": "",
                                    "col12": "",
                                    "col13": "",
                                    "col14": "",
                                    "col15": "",
                                    "col16": "",
                                    "col17": "",
                                    "col18": "",
                                    "col19": "",
                                    "col20": "",
                                    "col21": "",
                                    "col22": "",
                                    "col23": "",
                                    "col24": "",
                                    "col25": "",
                                    "sortID": "3"
                                },
                                "overwrite": true
                            },
                            "metadata": {
                                "designer": {
                                    "x": 1500,
                                    "y": 600,
                                    "name": "Add !ENDTRNS_Header"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    },
                                    "overwrite": {
                                        "mode": "chose"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "overwrite",
                                        "type": "boolean",
                                        "label": "Overwrite an existing record",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number"
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ]
                            }
                        },
                        {
                            "id": 24,
                            "module": "wild-apricot:GetAccountDetails",
                            "version": 1,
                            "parameters": {
                                "__IMTCONN__": 1485309
                            },
                            "mapper": {},
                            "metadata": {
                                "designer": {
                                    "x": 1800,
                                    "y": 600
                                },
                                "restore": {
                                    "__IMTCONN__": {
                                        "label": "Dave WA (RockIt Project)"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ]
                            }
                        },
                        {
                            "id": 170,
                            "module": "builtin:BasicRouter",
                            "version": 1,
                            "mapper": null,
                            "metadata": {
                                "designer": {
                                    "x": 2100,
                                    "y": 600
                                }
                            },
                            "routes": [
                                {
                                    "flow": [
                                        {
                                            "id": 198,
                                            "module": "wild-apricot:getPayments",
                                            "version": 1,
                                            "parameters": {
                                                "__IMTCONN__": 1485309
                                            },
                                            "mapper": {
                                                "RelatedTo": "",
                                                "StartDate": "{{if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Manual Dates\"; parseDate(22.`WA DONATION Time Periods`.`Manual Start Date`; \"YYYY-MM-DD\"); if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Scheduled\"; addMonths(now; \"-\" + 22.`WA DONATION Time Periods`.`Scheduled Number of Months Back`); addMonths(now; -1)))}}"
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 2400,
                                                    "y": 450
                                                },
                                                "restore": {
                                                    "RelatedTo": {
                                                        "label": ""
                                                    },
                                                    "__IMTCONN__": {
                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "__IMTCONN__",
                                                        "type": "account",
                                                        "label": "Connection",
                                                        "required": true
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "StartDate",
                                                        "type": "date",
                                                        "label": "Start Date"
                                                    },
                                                    {
                                                        "name": "RelatedTo",
                                                        "type": "select",
                                                        "validate": {
                                                            "enum": [
                                                                "Contact",
                                                                "Event"
                                                            ]
                                                        }
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": 211,
                                            "module": "builtin:BasicRouter",
                                            "version": 1,
                                            "filter": {
                                                "name": "Donations Only - Date End Date",
                                                "conditions": [
                                                    [
                                                        {
                                                            "a": "{{198.Type}}",
                                                            "b": "DonationPayment",
                                                            "o": "text:equal"
                                                        },
                                                        {
                                                            "a": "{{if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Manual Dates\"; if(parseDate(22.`WA DONATION Time Periods`.`Manual End Date`; \"YYYY-MM-DD\") >= parseDate(198.DocumentDate; \"YYYY-MM-DD\"); true; false); true)}}",
                                                            "b": "{{true}}",
                                                            "o": "boolean:equal"
                                                        }
                                                    ]
                                                ]
                                            },
                                            "mapper": null,
                                            "metadata": {
                                                "designer": {
                                                    "x": 2700,
                                                    "y": 450
                                                }
                                            },
                                            "routes": [
                                                {
                                                    "flow": [
                                                        {
                                                            "id": 199,
                                                            "module": "wild-apricot:universalApiCall",
                                                            "version": 1,
                                                            "parameters": {
                                                                "__IMTCONN__": 1485309
                                                            },
                                                            "filter": {
                                                                "name": "Filters for testing purposes",
                                                                "conditions": [
                                                                    [
                                                                        {
                                                                            "a": "{{198.Id}}",
                                                                            "b": "59616328",
                                                                            "o": "text:equal"
                                                                        }
                                                                    ]
                                                                ]
                                                            },
                                                            "mapper": {
                                                                "qs": [],
                                                                "url": "/accounts/{{24.Id}}/payments/{{198.Id}}",
                                                                "body": "",
                                                                "method": "GET"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 3000,
                                                                    "y": 450,
                                                                    "name": "Get Payment Details"
                                                                },
                                                                "restore": {
                                                                    "qs": {
                                                                        "items": []
                                                                    },
                                                                    "method": {
                                                                        "label": "GET"
                                                                    },
                                                                    "__IMTCONN__": {
                                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "__IMTCONN__",
                                                                        "type": "account",
                                                                        "label": "Connection",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "url",
                                                                        "type": "text",
                                                                        "label": "URL",
                                                                        "required": true
                                                                    },
                                                                    {
                                                                        "name": "method",
                                                                        "type": "select",
                                                                        "label": "Method",
                                                                        "required": true,
                                                                        "validate": {
                                                                            "enum": [
                                                                                "GET",
                                                                                "POST",
                                                                                "PUT",
                                                                                "DELETE"
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "name": "qs",
                                                                        "spec": [
                                                                            {
                                                                                "name": "key",
                                                                                "type": "text",
                                                                                "label": "Key"
                                                                            },
                                                                            {
                                                                                "name": "value",
                                                                                "type": "text",
                                                                                "label": "Value"
                                                                            }
                                                                        ],
                                                                        "type": "array",
                                                                        "label": "Query String"
                                                                    },
                                                                    {
                                                                        "name": "body",
                                                                        "type": "any",
                                                                        "label": "Body"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 200,
                                                            "module": "wild-apricot:universalApiCall",
                                                            "version": 1,
                                                            "parameters": {
                                                                "__IMTCONN__": 1485309
                                                            },
                                                            "mapper": {
                                                                "qs": [],
                                                                "url": "/accounts/{{24.Id}}/donations/{{get(198.Donation; \"Id\")}}",
                                                                "body": "",
                                                                "method": "GET"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 3300,
                                                                    "y": 450,
                                                                    "name": "Get Donation Details"
                                                                },
                                                                "restore": {
                                                                    "qs": {
                                                                        "items": []
                                                                    },
                                                                    "method": {
                                                                        "label": "GET"
                                                                    },
                                                                    "__IMTCONN__": {
                                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "__IMTCONN__",
                                                                        "type": "account",
                                                                        "label": "Connection",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "url",
                                                                        "type": "text",
                                                                        "label": "URL",
                                                                        "required": true
                                                                    },
                                                                    {
                                                                        "name": "method",
                                                                        "type": "select",
                                                                        "label": "Method",
                                                                        "required": true,
                                                                        "validate": {
                                                                            "enum": [
                                                                                "GET",
                                                                                "POST",
                                                                                "PUT",
                                                                                "DELETE"
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "name": "qs",
                                                                        "spec": [
                                                                            {
                                                                                "name": "key",
                                                                                "type": "text",
                                                                                "label": "Key"
                                                                            },
                                                                            {
                                                                                "name": "value",
                                                                                "type": "text",
                                                                                "label": "Value"
                                                                            }
                                                                        ],
                                                                        "type": "array",
                                                                        "label": "Query String"
                                                                    },
                                                                    {
                                                                        "name": "body",
                                                                        "type": "any",
                                                                        "label": "Body"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 203,
                                                            "module": "wild-apricot:GetContactDetails",
                                                            "version": 1,
                                                            "parameters": {
                                                                "__IMTCONN__": 1485309
                                                            },
                                                            "mapper": {
                                                                "contactId": "{{198.Contact.Id}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 3600,
                                                                    "y": 450
                                                                },
                                                                "restore": {
                                                                    "__IMTCONN__": {
                                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "__IMTCONN__",
                                                                        "type": "account",
                                                                        "label": "Connection",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "contactId",
                                                                        "type": "uinteger",
                                                                        "label": "Contact identifier",
                                                                        "required": true
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 201,
                                                            "module": "builtin:BasicFeeder",
                                                            "version": 1,
                                                            "parameters": {},
                                                            "mapper": {
                                                                "array": "{{22.`WA Donation Mapping`.`Donation Campaigns`}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 3900,
                                                                    "y": 450
                                                                },
                                                                "restore": {
                                                                    "array": {
                                                                        "mode": "edit"
                                                                    }
                                                                },
                                                                "expect": [
                                                                    {
                                                                        "mode": "edit",
                                                                        "name": "array",
                                                                        "spec": [],
                                                                        "type": "array",
                                                                        "label": "Array"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 202,
                                                            "module": "datastore:AddRecord",
                                                            "version": 1,
                                                            "parameters": {
                                                                "datastore": 24064
                                                            },
                                                            "filter": {
                                                                "name": "Match Donation Campaign",
                                                                "conditions": [
                                                                    [
                                                                        {
                                                                            "a": "{{get(200.body.FieldValues; \"4.Value.1.Label\")}}",
                                                                            "b": "{{201.DonationFilter}}",
                                                                            "o": "text:equal"
                                                                        }
                                                                    ]
                                                                ]
                                                            },
                                                            "mapper": {
                                                                "key": "",
                                                                "data": {
                                                                    "col01": "TRNS",
                                                                    "col02": "{{198.Id}}",
                                                                    "col03": "CASH SALE",
                                                                    "col04": "{{formatDate(198.DocumentDate; \"YYYY-MM-DD\")}}",
                                                                    "col05": "{{22.`WA Donation Mapping`.`QB Header Account`}}",
                                                                    "col06": "{{substring(ifempty(replace(replace(replace(22.`Customer Name`; \"{User_Id}\"; 198.Contact.Id); \"{User_DisplayName}\"; 203.DisplayName); \"{Company_Name}\"; ifempty(get(200.body.FieldValues; \"1.Value\"); 203.FieldValuesByName.`Company Name`.Value)); 203.DisplayName); 0; 41)}}",
                                                                    "col07": "{{ifempty(201.`QB DON SubClass`; 22.`WA Donation Mapping`.`QB Header Class`)}}",
                                                                    "col08": "{{198.Value}}",
                                                                    "col09": "{{toString(200.body.Id)}}",
                                                                    "col10": "{{replace(replace(replace(replace(22.`WA Donation Mapping`.`QB Header Memo Format`; \"{SupportName}\"; ifempty(get(200.body.FieldValues; \"5.Value.Label\"); space)); \"{Comment}\"; ifempty(get(200.body.FieldValues; \"3.Value\"); space)); carriagereturn; space); newline; space)}}",
                                                                    "col11": "N",
                                                                    "col12": "Y",
                                                                    "col13": "Y",
                                                                    "col14": "Y",
                                                                    "col15": "",
                                                                    "col16": "{{substring(replace(22.`Customer Billing Address`.Address1; \"{User_DisplayName}\"; 203.DisplayName); 0; 41)}}",
                                                                    "col17": "{{substring(replace(22.`Customer Billing Address`.Address2; \"{User_Email}\"; 203.Email); 0; 41)}}",
                                                                    "col18": "{{substring(replace(22.`Customer Billing Address`.Address3; \"{AddressLine1}\"; 203.FieldValuesByName.`Street Address`.Value); 0; 41)}}",
                                                                    "col19": "{{substring(replace(22.`Customer Billing Address`.Address4; \"{AddressLine2}\"; space); 0; 41)}}",
                                                                    "col20": "{{substring(replace(replace(replace(22.`Customer Billing Address`.Address5; \"{City}\"; 203.FieldValuesByName.City.Value); \"{Province}\"; 203.FieldValuesByName.Province.Value.Label); \"{PostalCode}\"; 203.FieldValuesByName.`Postal Code`.Value); 0; 41)}}",
                                                                    "col21": "",
                                                                    "col22": "",
                                                                    "col23": "",
                                                                    "col24": "",
                                                                    "col25": "",
                                                                    "sortID": "{{198.Id}}"
                                                                },
                                                                "overwrite": false
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 4200,
                                                                    "y": 450,
                                                                    "name": "Add DONATION TRNS Line"
                                                                },
                                                                "restore": {
                                                                    "datastore": {
                                                                        "label": "WA-QB-Invoice-TMP"
                                                                    },
                                                                    "overwrite": {
                                                                        "mode": "chose"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "datastore",
                                                                        "type": "datastore",
                                                                        "label": "Data store",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "key",
                                                                        "type": "text",
                                                                        "label": "Key"
                                                                    },
                                                                    {
                                                                        "name": "overwrite",
                                                                        "type": "boolean",
                                                                        "label": "Overwrite an existing record",
                                                                        "required": true
                                                                    },
                                                                    {
                                                                        "name": "data",
                                                                        "spec": [
                                                                            {
                                                                                "name": "sortID",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "col01",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col02",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col03",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col04",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col05",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col06",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col07",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col08",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col09",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col10",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col11",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col12",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col13",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col14",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col15",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col16",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col17",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col18",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col19",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col20",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col21",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col22",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col23",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col24",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col25",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            }
                                                                        ],
                                                                        "type": "collection",
                                                                        "label": "Record"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 207,
                                                            "module": "builtin:BasicRouter",
                                                            "version": 1,
                                                            "mapper": null,
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 4500,
                                                                    "y": 450
                                                                }
                                                            },
                                                            "routes": [
                                                                {
                                                                    "flow": [
                                                                        {
                                                                            "id": 204,
                                                                            "module": "datastore:AddRecord",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "datastore": 24064
                                                                            },
                                                                            "mapper": {
                                                                                "key": "",
                                                                                "data": {
                                                                                    "col01": "SPL",
                                                                                    "col02": "{{toString(198.Id)}}.{{toString(1)}}",
                                                                                    "col03": "CASH SALE",
                                                                                    "col04": "{{formatDate(198.DocumentDate; \"YYYY-MM-DD\")}}",
                                                                                    "col05": "{{ifempty(201.`QB DON Income Account`; 22.`WA Donation Mapping`.`QB Income Account Default`)}}",
                                                                                    "col06": "",
                                                                                    "col07": "{{ifempty(201.`QB DON SubClass`; 22.`WA Donation Mapping`.`QB Header Class`)}}",
                                                                                    "col08": "{{198.Value * -1}}",
                                                                                    "col09": "",
                                                                                    "col10": "{{replace(201.`QB DON Line Notes Format`; \"{CampaignName}\"; 201.DonationFilter)}}",
                                                                                    "col11": "N",
                                                                                    "col12": "-1",
                                                                                    "col13": "{{198.Value}}",
                                                                                    "col14": "{{201.`QB DON Inventory Item`}}",
                                                                                    "col15": "N",
                                                                                    "col16": "{{22.`WA Donation Mapping`.`QB Tax Code for Exempt`}}",
                                                                                    "col17": "N",
                                                                                    "col18": "NOTHING",
                                                                                    "col19": "",
                                                                                    "col20": "",
                                                                                    "col21": "",
                                                                                    "col22": "",
                                                                                    "col23": "",
                                                                                    "col24": "",
                                                                                    "col25": "",
                                                                                    "sortID": "{{toString(198.Id)}}.{{toString(1)}}"
                                                                                },
                                                                                "overwrite": false
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 4800,
                                                                                    "y": 300,
                                                                                    "name": "Add DONATION SPL Line"
                                                                                },
                                                                                "restore": {
                                                                                    "datastore": {
                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                    },
                                                                                    "overwrite": {
                                                                                        "mode": "chose"
                                                                                    }
                                                                                },
                                                                                "parameters": [
                                                                                    {
                                                                                        "name": "datastore",
                                                                                        "type": "datastore",
                                                                                        "label": "Data store",
                                                                                        "required": true
                                                                                    }
                                                                                ],
                                                                                "expect": [
                                                                                    {
                                                                                        "name": "key",
                                                                                        "type": "text",
                                                                                        "label": "Key"
                                                                                    },
                                                                                    {
                                                                                        "name": "overwrite",
                                                                                        "type": "boolean",
                                                                                        "label": "Overwrite an existing record",
                                                                                        "required": true
                                                                                    },
                                                                                    {
                                                                                        "name": "data",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "sortID",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "col01",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col02",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col03",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col04",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col05",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col06",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col07",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col08",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col09",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col10",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col11",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col12",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col13",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col14",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col15",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col16",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col17",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col18",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col19",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col20",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col21",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col22",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col23",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col24",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col25",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "Record"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 205,
                                                                            "module": "datastore:AddRecord",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "datastore": 24064
                                                                            },
                                                                            "mapper": {
                                                                                "key": "",
                                                                                "data": {
                                                                                    "col01": "ENDTRNS",
                                                                                    "col02": "",
                                                                                    "col03": "",
                                                                                    "col04": "",
                                                                                    "col05": "",
                                                                                    "col06": "",
                                                                                    "col07": "",
                                                                                    "col08": "",
                                                                                    "col09": "",
                                                                                    "col10": "",
                                                                                    "col11": "",
                                                                                    "col12": "",
                                                                                    "col13": "",
                                                                                    "col14": "",
                                                                                    "col15": "",
                                                                                    "col16": "",
                                                                                    "col17": "",
                                                                                    "col18": "",
                                                                                    "col19": "",
                                                                                    "col20": "",
                                                                                    "col21": "",
                                                                                    "col22": "",
                                                                                    "col23": "",
                                                                                    "col24": "",
                                                                                    "col25": "",
                                                                                    "sortID": "{{toString(198.Id)}}.{{toString(2)}}"
                                                                                },
                                                                                "overwrite": false
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 5100,
                                                                                    "y": 300,
                                                                                    "name": "Add DONATION ENDTRNS Line"
                                                                                },
                                                                                "restore": {
                                                                                    "datastore": {
                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                    },
                                                                                    "overwrite": {
                                                                                        "mode": "chose"
                                                                                    }
                                                                                },
                                                                                "parameters": [
                                                                                    {
                                                                                        "name": "datastore",
                                                                                        "type": "datastore",
                                                                                        "label": "Data store",
                                                                                        "required": true
                                                                                    }
                                                                                ],
                                                                                "expect": [
                                                                                    {
                                                                                        "name": "key",
                                                                                        "type": "text",
                                                                                        "label": "Key"
                                                                                    },
                                                                                    {
                                                                                        "name": "overwrite",
                                                                                        "type": "boolean",
                                                                                        "label": "Overwrite an existing record",
                                                                                        "required": true
                                                                                    },
                                                                                    {
                                                                                        "name": "data",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "sortID",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "col01",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col02",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col03",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col04",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col05",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col06",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col07",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col08",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col09",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col10",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col11",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col12",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col13",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col14",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col15",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col16",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col17",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col18",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col19",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col20",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col21",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col22",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col23",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col24",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            },
                                                                                            {
                                                                                                "name": "col25",
                                                                                                "type": "text",
                                                                                                "multiline": false
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "Record"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "flow": [
                                                                        {
                                                                            "id": 208,
                                                                            "module": "builtin:BasicAggregator",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "feeder": 199
                                                                            },
                                                                            "mapper": {
                                                                                "key": "{{202.key}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 4800,
                                                                                    "y": 600
                                                                                },
                                                                                "restore": {
                                                                                    "feeder": {
                                                                                        "label": "Get Payment Details - Make an API Call [199]"
                                                                                    },
                                                                                    "mapper": {
                                                                                        "label": [
                                                                                            null
                                                                                        ]
                                                                                    },
                                                                                    "target": {
                                                                                        "label": "Custom"
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 209,
                                                                            "module": "util:TextAggregator",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "feeder": 198,
                                                                                "rowSeparator": "\n"
                                                                            },
                                                                            "filter": {
                                                                                "name": "Donations that did not map to Campaign",
                                                                                "conditions": [
                                                                                    [
                                                                                        {
                                                                                            "a": "{{208.`__IMTAGGLENGTH__`}}",
                                                                                            "b": "0",
                                                                                            "o": "text:equal"
                                                                                        }
                                                                                    ]
                                                                                ]
                                                                            },
                                                                            "mapper": {
                                                                                "value": "{{get(198.Donation; \"Id\")}}{{tab}}{{get(198.Donation; \"Url\")}}{{tab}}{{198.Id}}{{tab}}{{198.DocumentDate}}{{tab}}{{198.Type}}{{tab}}{{198.Value}}{{tab}}{{198.Contact.Name}}{{tab}}{{198.Contact.Id}}{{tab}}{{198.Contact.Url}}{{tab}}Bundle position {{198.`__IMTINDEX__`}} of {{198.`__IMTLENGTH__`}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 5100,
                                                                                    "y": 600,
                                                                                    "name": "Create Error Text Lines"
                                                                                },
                                                                                "restore": {
                                                                                    "feeder": {
                                                                                        "label": "Wild Apricot - Get payments list [198]"
                                                                                    },
                                                                                    "rowSeparator": {
                                                                                        "label": "New row"
                                                                                    }
                                                                                },
                                                                                "parameters": [
                                                                                    {
                                                                                        "name": "rowSeparator",
                                                                                        "type": "select",
                                                                                        "label": "Row separator",
                                                                                        "validate": {
                                                                                            "enum": [
                                                                                                "\n",
                                                                                                "\t",
                                                                                                "other"
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                ],
                                                                                "expect": [
                                                                                    {
                                                                                        "name": "value",
                                                                                        "type": "text",
                                                                                        "label": "Text",
                                                                                        "multiline": true
                                                                                    }
                                                                                ],
                                                                                "advanced": true
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 210,
                                                                            "module": "box:ActionUploadFile",
                                                                            "version": 2,
                                                                            "parameters": {
                                                                                "account": 1737554
                                                                            },
                                                                            "filter": {
                                                                                "name": "Create Error file if text records exist",
                                                                                "conditions": [
                                                                                    [
                                                                                        {
                                                                                            "a": "{{length(209.text)}}",
                                                                                            "b": "0",
                                                                                            "o": "number:greater"
                                                                                        }
                                                                                    ]
                                                                                ]
                                                                            },
                                                                            "mapper": {
                                                                                "data": "Donation ID{{tab}}Donation URL{{tab}}Payment ID{{tab}}Payment Date{{tab}}Payment Type{{tab}}Payment Value{{tab}}Contact Name{{tab}}Contact ID{{tab}}Contact URL{{tab}}Bundle position{{newline}}{{209.text}}",
                                                                                "fileName": "{{replace(22.`Output File Location`.`Error Donation Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DDTHH-mm-ss\"))}}.iif",
                                                                                "folderId": "/123446250794/124123792422"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 5400,
                                                                                    "y": 600,
                                                                                    "name": "Create and Load Donation Error File"
                                                                                },
                                                                                "restore": {
                                                                                    "account": {
                                                                                        "label": "MCABC-Box-Folder (dwreed@rockitproject.com)"
                                                                                    },
                                                                                    "folderId": {
                                                                                        "mode": "chose",
                                                                                        "path": [
                                                                                            "WAQM-MCABC",
                                                                                            "MCABC-WA-Donation-IIF-TEST"
                                                                                        ]
                                                                                    }
                                                                                },
                                                                                "parameters": [
                                                                                    {
                                                                                        "name": "account",
                                                                                        "type": "account",
                                                                                        "label": "Connection",
                                                                                        "required": true
                                                                                    }
                                                                                ],
                                                                                "expect": [
                                                                                    {
                                                                                        "mean": "name",
                                                                                        "name": "fileName",
                                                                                        "type": "filename",
                                                                                        "label": "File name",
                                                                                        "required": true,
                                                                                        "validate": {
                                                                                            "max": 200
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "mean": "data",
                                                                                        "name": "data",
                                                                                        "type": "buffer",
                                                                                        "label": "Data",
                                                                                        "required": true
                                                                                    },
                                                                                    {
                                                                                        "name": "folderId",
                                                                                        "type": "folder",
                                                                                        "label": "Folder",
                                                                                        "required": true
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 213,
                                                                            "module": "email:ActionSendEmail",
                                                                            "version": 7,
                                                                            "parameters": {
                                                                                "account": 1447663,
                                                                                "saveAfterSent": false
                                                                            },
                                                                            "mapper": {
                                                                                "cc": [
                                                                                    "{{22.`Notification Emails`.`Support Email Address`}}"
                                                                                ],
                                                                                "to": [
                                                                                    "{{22.`Notification Emails`.`Company Email Address`}}"
                                                                                ],
                                                                                "bcc": [],
                                                                                "from": "",
                                                                                "html": "The WAQM Integromat job completed and generated a Donation ERROR IIF File.  Some records did not successfully map for Quickbooks upload.<br><br>\nReview the Donations to see if a new Campaign or other discrepancy exists.<br><br>\n\nCompany: {{22.`WA Org Name`}}<br>\nFilename: {{replace(22.`Output File Location`.`Error Donation Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DD\"))}}THH-mm-ss.iif<br>\nFile ID: {{210.id}}<br>\nFile Location: {{22.`Output File Location`.`Donation Folder Path`}}<br>\nFile URL: <a href=https://app.box.com/file/{{210.id}}>Link for box</a><br>\nRun Type: {{22.`WA DONATION Time Periods`.`Donation Job Scheduling Type`}}<br>\nStart Date: {{formatDate(if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Manual Dates\"; parseDate(22.`WA DONATION Time Periods`.`Manual Start Date`; \"YYYY-MM-DD\"); if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Scheduled\"; addMonths(now; \"-\" + 22.`WA DONATION Time Periods`.`Scheduled Number of Months Back`); addMonths(now; -2))); \"YYYY-MM-DD\")}}<br>\nEnd Date: {{if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Scheduled\"; formatDate(now; \"YYY-MM-DD\"); 22.`WA DONATION Time Periods`.`Manual End Date`)}}<br>\n<br>",
                                                                                "sender": "",
                                                                                "headers": [],
                                                                                "replyTo": "",
                                                                                "subject": "WAQM Notice - Donation ERROR File Generated ",
                                                                                "priority": "normal",
                                                                                "inReplyTo": "",
                                                                                "references": [],
                                                                                "attachments": [],
                                                                                "contentType": "html"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 5700,
                                                                                    "y": 600,
                                                                                    "name": "WAQM Notice - Donation ERROR File Generated"
                                                                                },
                                                                                "restore": {
                                                                                    "cc": {
                                                                                        "mode": "chose",
                                                                                        "items": [
                                                                                            "undefined"
                                                                                        ]
                                                                                    },
                                                                                    "to": {
                                                                                        "mode": "chose",
                                                                                        "items": [
                                                                                            "undefined"
                                                                                        ]
                                                                                    },
                                                                                    "bcc": {
                                                                                        "mode": "chose",
                                                                                        "items": []
                                                                                    },
                                                                                    "account": {
                                                                                        "label": "SMTP - alex@newpathconsulting.com (SMTP alex@newpathconsulting.com)"
                                                                                    },
                                                                                    "headers": {
                                                                                        "items": []
                                                                                    },
                                                                                    "priority": {
                                                                                        "label": "Normal"
                                                                                    },
                                                                                    "references": {
                                                                                        "mode": "chose",
                                                                                        "items": []
                                                                                    },
                                                                                    "attachments": {
                                                                                        "mode": "chose",
                                                                                        "items": []
                                                                                    },
                                                                                    "contentType": {
                                                                                        "label": "HTML"
                                                                                    },
                                                                                    "saveAfterSent": {
                                                                                        "label": "No"
                                                                                    }
                                                                                },
                                                                                "parameters": [
                                                                                    {
                                                                                        "name": "account",
                                                                                        "type": "account",
                                                                                        "label": "Connection",
                                                                                        "required": true
                                                                                    },
                                                                                    {
                                                                                        "name": "saveAfterSent",
                                                                                        "type": "select",
                                                                                        "label": "Save message after sending",
                                                                                        "required": true,
                                                                                        "validate": {
                                                                                            "enum": [
                                                                                                true,
                                                                                                false
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                ],
                                                                                "expect": [
                                                                                    {
                                                                                        "name": "to",
                                                                                        "spec": {
                                                                                            "name": "email",
                                                                                            "type": "email",
                                                                                            "label": "Email address",
                                                                                            "required": true
                                                                                        },
                                                                                        "type": "array",
                                                                                        "label": "To",
                                                                                        "labels": {
                                                                                            "add": "Add a recipient",
                                                                                            "edit": "Edit a recipient"
                                                                                        },
                                                                                        "required": true
                                                                                    },
                                                                                    {
                                                                                        "name": "subject",
                                                                                        "type": "text",
                                                                                        "label": "Subject"
                                                                                    },
                                                                                    {
                                                                                        "name": "contentType",
                                                                                        "type": "select",
                                                                                        "label": "Content Type",
                                                                                        "required": true,
                                                                                        "validate": {
                                                                                            "enum": [
                                                                                                "html",
                                                                                                "text"
                                                                                            ]
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "name": "attachments",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "fileName",
                                                                                                "type": "filename",
                                                                                                "label": "File name",
                                                                                                "required": true,
                                                                                                "semantic": "file:name"
                                                                                            },
                                                                                            {
                                                                                                "name": "data",
                                                                                                "type": "buffer",
                                                                                                "label": "Data",
                                                                                                "required": true,
                                                                                                "semantic": "file:data"
                                                                                            },
                                                                                            {
                                                                                                "name": "cid",
                                                                                                "type": "text",
                                                                                                "label": "Content-ID"
                                                                                            }
                                                                                        ],
                                                                                        "type": "array",
                                                                                        "label": "Attachments",
                                                                                        "labels": {
                                                                                            "add": "Add an attachment",
                                                                                            "edit": "Edit an attachment"
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "name": "cc",
                                                                                        "spec": {
                                                                                            "name": "email",
                                                                                            "type": "email",
                                                                                            "label": "Email address"
                                                                                        },
                                                                                        "type": "array",
                                                                                        "label": "Copy recipient",
                                                                                        "labels": {
                                                                                            "add": "Add a copy recipient",
                                                                                            "edit": "Edit a copy recipient"
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "name": "bcc",
                                                                                        "spec": {
                                                                                            "name": "email",
                                                                                            "type": "email",
                                                                                            "label": "Email address"
                                                                                        },
                                                                                        "type": "array",
                                                                                        "label": "Blind copy recipient",
                                                                                        "labels": {
                                                                                            "add": "Add a blind copy recipient",
                                                                                            "edit": "Edit a blind copy recipient"
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "name": "from",
                                                                                        "type": "text",
                                                                                        "label": "From"
                                                                                    },
                                                                                    {
                                                                                        "name": "sender",
                                                                                        "type": "text",
                                                                                        "label": "Sender"
                                                                                    },
                                                                                    {
                                                                                        "name": "replyTo",
                                                                                        "type": "text",
                                                                                        "label": "Reply-To"
                                                                                    },
                                                                                    {
                                                                                        "name": "inReplyTo",
                                                                                        "type": "text",
                                                                                        "label": "In-Reply-To"
                                                                                    },
                                                                                    {
                                                                                        "name": "references",
                                                                                        "spec": {
                                                                                            "type": "text",
                                                                                            "label": "Reference",
                                                                                            "required": true
                                                                                        },
                                                                                        "type": "array",
                                                                                        "label": "References"
                                                                                    },
                                                                                    {
                                                                                        "name": "priority",
                                                                                        "type": "select",
                                                                                        "label": "Priority",
                                                                                        "validate": {
                                                                                            "enum": [
                                                                                                "high",
                                                                                                "normal",
                                                                                                "low"
                                                                                            ]
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "name": "headers",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "key",
                                                                                                "type": "text",
                                                                                                "label": "Key",
                                                                                                "required": true
                                                                                            },
                                                                                            {
                                                                                                "name": "value",
                                                                                                "type": "text",
                                                                                                "label": "Value",
                                                                                                "required": true
                                                                                            }
                                                                                        ],
                                                                                        "type": "array",
                                                                                        "label": "Headers"
                                                                                    },
                                                                                    {
                                                                                        "name": "html",
                                                                                        "type": "text",
                                                                                        "label": "Content"
                                                                                    }
                                                                                ],
                                                                                "advanced": true
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "flow": [
                                        {
                                            "id": 41,
                                            "module": "datastore:SearchRecord",
                                            "version": 1,
                                            "parameters": {
                                                "limit": null,
                                                "datastore": 24064,
                                                "continueWhenNoRes": false
                                            },
                                            "filter": {
                                                "name": "Send results to DropBox",
                                                "conditions": []
                                            },
                                            "mapper": {
                                                "sort": [
                                                    {
                                                        "key": "sortID",
                                                        "order": 1
                                                    }
                                                ],
                                                "filter": []
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 2400,
                                                    "y": 900,
                                                    "name": "Pull all records from TMP"
                                                },
                                                "restore": {
                                                    "sort": {
                                                        "items": [
                                                            {
                                                                "key": {
                                                                    "mode": "chose",
                                                                    "label": "sortID"
                                                                },
                                                                "order": {
                                                                    "mode": "chose",
                                                                    "label": "Ascending"
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "datastore": {
                                                        "label": "WA-QB-Invoice-TMP"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "datastore",
                                                        "type": "datastore",
                                                        "label": "Data store",
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "limit",
                                                        "type": "uinteger",
                                                        "label": "Limit"
                                                    },
                                                    {
                                                        "name": "continueWhenNoRes",
                                                        "type": "boolean",
                                                        "label": "Continue the execution of the route even if the module returns no results"
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "filter",
                                                        "type": "filter",
                                                        "label": "Filter",
                                                        "options": {
                                                            "store": "rpc://datastore@1.5.7/RpcGetUDTKeys"
                                                        },
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "sort",
                                                        "spec": [
                                                            {
                                                                "name": "key",
                                                                "type": "select",
                                                                "label": "Key",
                                                                "required": true
                                                            },
                                                            {
                                                                "name": "order",
                                                                "type": "select",
                                                                "label": "Order",
                                                                "options": [
                                                                    {
                                                                        "label": "Ascending",
                                                                        "value": 1
                                                                    },
                                                                    {
                                                                        "label": "Descending",
                                                                        "value": -1
                                                                    }
                                                                ],
                                                                "required": true
                                                            }
                                                        ],
                                                        "type": "array",
                                                        "label": "Sort"
                                                    }
                                                ],
                                                "interface": [
                                                    {
                                                        "name": "key",
                                                        "type": "text",
                                                        "label": "Key"
                                                    },
                                                    {
                                                        "name": "data",
                                                        "spec": [
                                                            {
                                                                "name": "sortID",
                                                                "type": "number",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false
                                                            },
                                                            {
                                                                "name": "col01",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col02",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col03",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col04",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col05",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col06",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col07",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col08",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col09",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col10",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col11",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col12",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col13",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col14",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col15",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col16",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col17",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col18",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col19",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col20",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col21",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col22",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col23",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col24",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col25",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            }
                                                        ],
                                                        "type": "collection",
                                                        "label": "Record"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": 52,
                                            "module": "util:TextAggregator",
                                            "version": 1,
                                            "parameters": {
                                                "feeder": 41,
                                                "rowSeparator": "\n"
                                            },
                                            "mapper": {
                                                "value": "{{41.data.col01}}{{tab}}{{41.data.col02}}{{tab}}{{41.data.col03}}{{tab}}{{41.data.col04}}{{tab}}{{41.data.col05}}{{tab}}{{41.data.col06}}{{tab}}{{41.data.col07}}{{tab}}{{41.data.col08}}{{tab}}{{41.data.col09}}{{tab}}{{41.data.col10}}{{tab}}{{41.data.col11}}{{tab}}{{41.data.col12}}{{tab}}{{41.data.col13}}{{tab}}{{41.data.col14}}{{tab}}{{41.data.col15}}{{tab}}{{41.data.col16}}{{tab}}{{41.data.col17}}{{tab}}{{41.data.col18}}{{tab}}{{41.data.col19}}{{tab}}{{41.data.col20}}{{tab}}{{41.data.col21}}{{tab}}{{41.data.col22}}{{tab}}{{41.data.col23}}{{tab}}{{41.data.col24}}{{tab}}{{41.data.col25}}"
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 2700,
                                                    "y": 900,
                                                    "name": "Create tab-delimited text records"
                                                },
                                                "restore": {
                                                    "feeder": {
                                                        "label": "Pull all records from TMP - Search records [41]"
                                                    },
                                                    "rowSeparator": {
                                                        "label": "New row"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "rowSeparator",
                                                        "type": "select",
                                                        "label": "Row separator",
                                                        "validate": {
                                                            "enum": [
                                                                "\n",
                                                                "\t",
                                                                "other"
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "value",
                                                        "type": "text",
                                                        "label": "Text",
                                                        "multiline": true
                                                    }
                                                ],
                                                "advanced": true
                                            }
                                        },
                                        {
                                            "id": 171,
                                            "module": "box:ActionUploadFile",
                                            "version": 2,
                                            "parameters": {
                                                "account": 1737554
                                            },
                                            "mapper": {
                                                "data": "{{52.text}}",
                                                "fileName": "{{replace(22.`Output File Location`.`Success Donation Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DDTHH-mm-ss\"))}}.iif",
                                                "folderId": "/123446250794/124123792422"
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 3000,
                                                    "y": 900,
                                                    "name": "Create and Upload Donation IIF File"
                                                },
                                                "restore": {
                                                    "account": {
                                                        "label": "MCABC-Box-Folder (dwreed@rockitproject.com)"
                                                    },
                                                    "folderId": {
                                                        "mode": "chose",
                                                        "path": [
                                                            "WAQM-MCABC",
                                                            "MCABC-WA-Donation-IIF-TEST"
                                                        ]
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "account",
                                                        "type": "account",
                                                        "label": "Connection",
                                                        "required": true
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "mean": "name",
                                                        "name": "fileName",
                                                        "type": "filename",
                                                        "label": "File name",
                                                        "required": true,
                                                        "validate": {
                                                            "max": 200
                                                        }
                                                    },
                                                    {
                                                        "mean": "data",
                                                        "name": "data",
                                                        "type": "buffer",
                                                        "label": "Data",
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "folderId",
                                                        "type": "folder",
                                                        "label": "Folder",
                                                        "required": true
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": 212,
                                            "module": "email:ActionSendEmail",
                                            "version": 7,
                                            "parameters": {
                                                "account": 1447663,
                                                "saveAfterSent": false
                                            },
                                            "mapper": {
                                                "cc": [
                                                    "{{22.`Notification Emails`.`Support Email Address`}}"
                                                ],
                                                "to": [
                                                    "{{22.`Notification Emails`.`Company Email Address`}}"
                                                ],
                                                "bcc": [],
                                                "from": "",
                                                "html": "The WAQM Integromat job completed and generated a Donation IIF File for QuickBooks upload.<br><br>\n\nCompany: {{22.`WA Org Name`}}<br>\nFilename: {{replace(22.`Output File Location`.`Success Donation Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DD\"))}}THH-mm-ss.iif<br>\nFile ID: {{171.id}}<br>\nFile Location: {{22.`Output File Location`.`Donation Folder Path`}}<br>\nFile URL: <a href=https://app.box.com/file/{{171.id}}>Link for box</a><br>\nRun Type: {{22.`WA DONATION Time Periods`.`Donation Job Scheduling Type`}}<br>\nStart Date: {{formatDate(if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Manual Dates\"; parseDate(22.`WA DONATION Time Periods`.`Manual Start Date`; \"YYYY-MM-DD\"); if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Scheduled\"; addMonths(now; \"-\" + 22.`WA DONATION Time Periods`.`Scheduled Number of Months Back`); addMonths(now; -2))); \"YYYY-MM-DD\")}}<br>\nEnd Date: {{if(22.`WA DONATION Time Periods`.`Donation Job Scheduling Type` = \"Scheduled\"; formatDate(now; \"YYY-MM-DD\"); 22.`WA DONATION Time Periods`.`Manual End Date`)}}<br>\n<br>",
                                                "sender": "",
                                                "headers": [],
                                                "replyTo": "",
                                                "subject": "WAQM Notice - Donation File Generated ",
                                                "priority": "normal",
                                                "inReplyTo": "",
                                                "references": [],
                                                "attachments": [],
                                                "contentType": "html"
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 3300,
                                                    "y": 900,
                                                    "name": "Send Donation IIF email notification"
                                                },
                                                "restore": {
                                                    "cc": {
                                                        "mode": "chose",
                                                        "items": [
                                                            "undefined"
                                                        ]
                                                    },
                                                    "to": {
                                                        "mode": "chose",
                                                        "items": [
                                                            "undefined"
                                                        ]
                                                    },
                                                    "bcc": {
                                                        "mode": "chose",
                                                        "items": []
                                                    },
                                                    "account": {
                                                        "label": "SMTP - alex@newpathconsulting.com (SMTP alex@newpathconsulting.com)"
                                                    },
                                                    "headers": {
                                                        "items": []
                                                    },
                                                    "priority": {
                                                        "label": "Normal"
                                                    },
                                                    "references": {
                                                        "mode": "chose",
                                                        "items": []
                                                    },
                                                    "attachments": {
                                                        "mode": "chose",
                                                        "items": []
                                                    },
                                                    "contentType": {
                                                        "label": "HTML"
                                                    },
                                                    "saveAfterSent": {
                                                        "label": "No"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "account",
                                                        "type": "account",
                                                        "label": "Connection",
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "saveAfterSent",
                                                        "type": "select",
                                                        "label": "Save message after sending",
                                                        "required": true,
                                                        "validate": {
                                                            "enum": [
                                                                true,
                                                                false
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "to",
                                                        "spec": {
                                                            "name": "email",
                                                            "type": "email",
                                                            "label": "Email address",
                                                            "required": true
                                                        },
                                                        "type": "array",
                                                        "label": "To",
                                                        "labels": {
                                                            "add": "Add a recipient",
                                                            "edit": "Edit a recipient"
                                                        },
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "subject",
                                                        "type": "text",
                                                        "label": "Subject"
                                                    },
                                                    {
                                                        "name": "contentType",
                                                        "type": "select",
                                                        "label": "Content Type",
                                                        "required": true,
                                                        "validate": {
                                                            "enum": [
                                                                "html",
                                                                "text"
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "name": "attachments",
                                                        "spec": [
                                                            {
                                                                "name": "fileName",
                                                                "type": "filename",
                                                                "label": "File name",
                                                                "required": true,
                                                                "semantic": "file:name"
                                                            },
                                                            {
                                                                "name": "data",
                                                                "type": "buffer",
                                                                "label": "Data",
                                                                "required": true,
                                                                "semantic": "file:data"
                                                            },
                                                            {
                                                                "name": "cid",
                                                                "type": "text",
                                                                "label": "Content-ID"
                                                            }
                                                        ],
                                                        "type": "array",
                                                        "label": "Attachments",
                                                        "labels": {
                                                            "add": "Add an attachment",
                                                            "edit": "Edit an attachment"
                                                        }
                                                    },
                                                    {
                                                        "name": "cc",
                                                        "spec": {
                                                            "name": "email",
                                                            "type": "email",
                                                            "label": "Email address"
                                                        },
                                                        "type": "array",
                                                        "label": "Copy recipient",
                                                        "labels": {
                                                            "add": "Add a copy recipient",
                                                            "edit": "Edit a copy recipient"
                                                        }
                                                    },
                                                    {
                                                        "name": "bcc",
                                                        "spec": {
                                                            "name": "email",
                                                            "type": "email",
                                                            "label": "Email address"
                                                        },
                                                        "type": "array",
                                                        "label": "Blind copy recipient",
                                                        "labels": {
                                                            "add": "Add a blind copy recipient",
                                                            "edit": "Edit a blind copy recipient"
                                                        }
                                                    },
                                                    {
                                                        "name": "from",
                                                        "type": "text",
                                                        "label": "From"
                                                    },
                                                    {
                                                        "name": "sender",
                                                        "type": "text",
                                                        "label": "Sender"
                                                    },
                                                    {
                                                        "name": "replyTo",
                                                        "type": "text",
                                                        "label": "Reply-To"
                                                    },
                                                    {
                                                        "name": "inReplyTo",
                                                        "type": "text",
                                                        "label": "In-Reply-To"
                                                    },
                                                    {
                                                        "name": "references",
                                                        "spec": {
                                                            "type": "text",
                                                            "label": "Reference",
                                                            "required": true
                                                        },
                                                        "type": "array",
                                                        "label": "References"
                                                    },
                                                    {
                                                        "name": "priority",
                                                        "type": "select",
                                                        "label": "Priority",
                                                        "validate": {
                                                            "enum": [
                                                                "high",
                                                                "normal",
                                                                "low"
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "name": "headers",
                                                        "spec": [
                                                            {
                                                                "name": "key",
                                                                "type": "text",
                                                                "label": "Key",
                                                                "required": true
                                                            },
                                                            {
                                                                "name": "value",
                                                                "type": "text",
                                                                "label": "Value",
                                                                "required": true
                                                            }
                                                        ],
                                                        "type": "array",
                                                        "label": "Headers"
                                                    },
                                                    {
                                                        "name": "html",
                                                        "type": "text",
                                                        "label": "Content"
                                                    }
                                                ],
                                                "advanced": true
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "metadata": {
        "version": 1,
        "scenario": {
            "roundtrips": 1,
            "maxErrors": 3,
            "autoCommit": false,
            "sequential": false,
            "confidential": false,
            "dataloss": false,
            "dlq": false
        },
        "designer": {
            "orphans": [],
            "notes": [
                {
                    "id": 81,
                    "text": "IsPaid Flag from WA does not modify QB invoice.  Depends on payment getting applied separately inside QB.",
                    "filter": false
                },
                {
                    "id": 3,
                    "text": "Confirm time period (last 1 month)",
                    "filter": false
                },
                {
                    "id": 131,
                    "text": "Determine the proper warning mechanism for situations where a Tax Group is not found in the config. ",
                    "filter": false
                },
                {
                    "id": 80,
                    "text": "Determine the proper warning mechanism for a WA invoice that is invalid for QB purposes.",
                    "filter": false
                },
                {
                    "id": 145,
                    "text": "US version - \"NoTax\" lines are hard-coded.   Assumes QB uses the same \"NoTax\" definition.  Need to determine if/how to point back to Config.    This is true for the Tax Group route and the multiple single tax route.",
                    "filter": false
                },
                {
                    "id": 81,
                    "text": "See if Date needs to be formatted for QB import.  This was original formula to use WA localization.  Failed due to quoted comma.\n{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                    "filter": false
                },
                {
                    "id": 93,
                    "text": "Need different approach for sort ID to keep data store lines in the proper sequence.   This approach will use too many Ops.  Will Data store keys be in ascending order automatically?",
                    "filter": false
                },
                {
                    "id": 113,
                    "text": "need logic to determine which Tax Group corresponds to the included single tax rates.   Only important for showing the proper \"no-tax\" line on the visual invoice for reference.  the individual tax rate lines will calculate tax correctly.",
                    "filter": false
                }
            ]
        },
        "zone": "eu1.integromat.com"
    }
}