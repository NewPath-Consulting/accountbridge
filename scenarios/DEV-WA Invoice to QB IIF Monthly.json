{
    "name": "DEV-WA Invoice to QB IIF Monthly (v0.4.1)",
    "flow": [
        {
            "id": 22,
            "module": "datastore:GetRecord",
            "version": 1,
            "parameters": {
                "datastore": 24063
            },
            "mapper": {
                "key": "b69e6f603db1"
            },
            "metadata": {
                "designer": {
                    "x": 0,
                    "y": 1800,
                    "name": "Get WA-QB Config"
                },
                "restore": {
                    "datastore": {
                        "label": "WA-QB-Invoice-Config"
                    }
                },
                "parameters": [
                    {
                        "name": "datastore",
                        "type": "datastore",
                        "label": "Data store",
                        "required": true
                    }
                ],
                "expect": [
                    {
                        "name": "key",
                        "type": "text",
                        "label": "Key",
                        "required": true
                    }
                ],
                "interface": [
                    {
                        "name": "WA Org Name",
                        "type": "text",
                        "label": null,
                        "default": "Client Name",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "QB Version",
                        "spec": [
                            {
                                "name": "QB Country",
                                "type": "text",
                                "label": null,
                                "default": "CAD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Platform",
                                "type": "text",
                                "label": null,
                                "default": "Desktop",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA Org Env",
                        "type": "text",
                        "label": null,
                        "default": "Dev",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "Customer Name",
                        "type": "text",
                        "label": null,
                        "default": "({Id}) {Name}",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "Customer Billing Address",
                        "spec": [
                            {
                                "name": "Address1",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address2",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address3",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address4",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Address5",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA INVOICE Time Periods",
                        "spec": [
                            {
                                "name": "Activate Invoice Jobs",
                                "type": "boolean",
                                "label": null,
                                "default": true,
                                "required": false
                            },
                            {
                                "name": "Invoice Job Scheduling Type",
                                "type": "text",
                                "label": null,
                                "default": "<Manual Dates> OR <Scheduled>",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual Start Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual End Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Scheduled Number of Months Back",
                                "type": "number",
                                "label": null,
                                "default": 1,
                                "required": false
                            },
                            {
                                "name": "Scheduled-Reference-Run Schedule",
                                "type": "text",
                                "label": null,
                                "default": "For reference only.  Frequency of schedule and day of month/week",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA Order Types",
                        "spec": {
                            "spec": [
                                {
                                    "name": "OrderType",
                                    "type": "text",
                                    "label": null,
                                    "default": "MembershipApplication",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "QB Receivables Account",
                                    "type": "text",
                                    "label": null,
                                    "default": "Accounts Receivable",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "QB Income Account Default",
                                    "type": "text",
                                    "label": null,
                                    "default": "Membership Fees",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "QB Header Class",
                                    "type": "text",
                                    "label": null,
                                    "default": "Membership",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Order Line Item Mapping",
                                    "spec": {
                                        "spec": [
                                            {
                                                "name": "OrderDetailFilter",
                                                "type": "text",
                                                "label": null,
                                                "default": "MemberLevel",
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "QB Inventory Item",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "QB Income Account Override",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "QB SubClass",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection"
                                    },
                                    "type": "array",
                                    "label": null
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "WA Order ExtraCost Exceptions",
                        "spec": {
                            "spec": [
                                {
                                    "name": "ExtraCost Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Extras: New Application Fee (not prorated)",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "EC QB Inventory Item",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "EC QB Income Account",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "EC QB SubClass",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "WA DONATION Time Periods",
                        "spec": [
                            {
                                "name": "Activate Donation Jobs",
                                "type": "boolean",
                                "label": null,
                                "default": false,
                                "required": false
                            },
                            {
                                "name": "Donation Job Scheduling Type",
                                "type": "text",
                                "label": null,
                                "default": "<Manual Dates> OR <Scheduled>",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual Start Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Manual End Date",
                                "type": "text",
                                "label": null,
                                "default": "YYYY-MM-DD",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Scheduled Number of Months Back",
                                "type": "number",
                                "label": null,
                                "default": 1,
                                "required": false
                            },
                            {
                                "name": "Scheduled-Reference-Run Schedule",
                                "type": "text",
                                "label": null,
                                "default": "For reference only. Frequency of schedule and day of month/week",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "WA Donation Mapping",
                        "spec": [
                            {
                                "name": "QB Header Account",
                                "type": "text",
                                "label": null,
                                "default": "Bank Account for DEPOSIT Undeposited Funds for RECEIPT",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Income Account Default",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Header Class",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Header Memo Format",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "QB Tax Code for Exempt",
                                "type": "text",
                                "label": null,
                                "default": "E",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Donation Campaigns",
                                "spec": {
                                    "spec": [
                                        {
                                            "name": "DonationFilter",
                                            "type": "text",
                                            "label": null,
                                            "default": "Campaign Name",
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB DON Inventory Item",
                                            "type": "text",
                                            "label": null,
                                            "default": "Donation",
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB DON Income Account",
                                            "type": "text",
                                            "label": null,
                                            "default": "Donation",
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB Line Notes Format",
                                            "type": "text",
                                            "label": null,
                                            "default": null,
                                            "required": false,
                                            "multiline": false
                                        },
                                        {
                                            "name": "QB Don SubClass",
                                            "type": "text",
                                            "label": null,
                                            "default": null,
                                            "required": false,
                                            "multiline": false
                                        }
                                    ],
                                    "type": "collection"
                                },
                                "type": "array",
                                "label": null
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "Sales Tax Types",
                        "spec": {
                            "spec": [
                                {
                                    "name": "Sales Tax Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Tax A Name",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax ID",
                                    "type": "text",
                                    "label": null,
                                    "default": "Tax A",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax QB Code",
                                    "type": "text",
                                    "label": null,
                                    "default": null,
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Rate",
                                    "type": "number",
                                    "label": null,
                                    "default": 2,
                                    "required": false
                                },
                                {
                                    "name": "Sales Tax Account",
                                    "type": "text",
                                    "label": null,
                                    "default": "Sales Tax Payable",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Agency Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Tax Agency Name",
                                    "required": false,
                                    "multiline": false
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "Sales Tax Groups",
                        "spec": {
                            "spec": [
                                {
                                    "name": "Sales Tax Group Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "Standard GST/PST sales",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax QB Group Code",
                                    "type": "text",
                                    "label": null,
                                    "default": "S",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Group Account",
                                    "type": "text",
                                    "label": null,
                                    "default": "Sales Tax Payable",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "Sales Tax Group Agency Name",
                                    "type": "text",
                                    "label": null,
                                    "default": "no tax agency",
                                    "required": false,
                                    "multiline": false
                                },
                                {
                                    "name": "WA Tax IDs",
                                    "spec": {
                                        "type": "text",
                                        "default": "GST",
                                        "required": false,
                                        "multiline": false
                                    },
                                    "type": "array",
                                    "label": null
                                }
                            ],
                            "type": "collection"
                        },
                        "type": "array",
                        "label": null
                    },
                    {
                        "name": "Subtotal List Name",
                        "type": "text",
                        "label": null,
                        "default": "Subtotal",
                        "required": false,
                        "multiline": false
                    },
                    {
                        "name": "Output File Location",
                        "spec": [
                            {
                                "name": "Storage Service",
                                "type": "text",
                                "label": null,
                                "default": "box",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Invoice Folder Path",
                                "type": "text",
                                "label": null,
                                "default": "/WAQM-{Company}/WA-Invoice-IIF-Files",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Success Invoice Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Invoice_IIF_{DateTime}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Error Invoice Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Invoice_IIF_ERROR_{DateTime}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Donation Folder Path",
                                "type": "text",
                                "label": null,
                                "default": "/WAQM-{Company}/WA-Donation-IIF-Files",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Success Donation Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Donation_IIF_{DateTime}",
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Error Donation Filename Format",
                                "type": "text",
                                "label": null,
                                "default": "WA_Donation_IIF_ERROR_{DateTime}",
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    },
                    {
                        "name": "Notification Emails",
                        "spec": [
                            {
                                "name": "Company Email Address",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            },
                            {
                                "name": "Support Email Address",
                                "type": "text",
                                "label": null,
                                "default": null,
                                "required": false,
                                "multiline": false
                            }
                        ],
                        "type": "collection",
                        "label": null
                    }
                ]
            }
        },
        {
            "id": 88,
            "module": "builtin:BasicRouter",
            "version": 1,
            "filter": {
                "name": "Check for Invoice Run Config",
                "conditions": [
                    [
                        {
                            "a": "{{22.`WA INVOICE Time Periods`.`Activate Invoice Jobs`}}",
                            "b": "{{true}}",
                            "o": "text:equal"
                        }
                    ]
                ]
            },
            "mapper": null,
            "metadata": {
                "designer": {
                    "x": 300,
                    "y": 1800
                }
            },
            "routes": [
                {
                    "flow": [
                        {
                            "id": 87,
                            "module": "datastore:SearchRecord",
                            "version": 1,
                            "parameters": {
                                "limit": null,
                                "datastore": 24064,
                                "continueWhenNoRes": true
                            },
                            "filter": {
                                "name": "Temp store of previous run records",
                                "conditions": []
                            },
                            "mapper": {
                                "sort": [
                                    {
                                        "key": "sortID",
                                        "order": 1
                                    }
                                ],
                                "filter": []
                            },
                            "metadata": {
                                "designer": {
                                    "x": 600,
                                    "y": 0
                                },
                                "restore": {
                                    "sort": {
                                        "items": [
                                            {
                                                "key": {
                                                    "mode": "chose",
                                                    "label": "sortID"
                                                },
                                                "order": {
                                                    "mode": "chose",
                                                    "label": "Ascending"
                                                }
                                            }
                                        ]
                                    },
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    },
                                    {
                                        "name": "limit",
                                        "type": "uinteger",
                                        "label": "Limit"
                                    },
                                    {
                                        "name": "continueWhenNoRes",
                                        "type": "boolean",
                                        "label": "Continue the execution of the route even if the module returns no results"
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "filter",
                                        "type": "filter",
                                        "label": "Filter",
                                        "options": {
                                            "store": "rpc://datastore@1.5.7/RpcGetUDTKeys"
                                        },
                                        "required": true
                                    },
                                    {
                                        "name": "sort",
                                        "spec": [
                                            {
                                                "name": "key",
                                                "type": "select",
                                                "label": "Key",
                                                "required": true
                                            },
                                            {
                                                "name": "order",
                                                "type": "select",
                                                "label": "Order",
                                                "options": [
                                                    {
                                                        "label": "Ascending",
                                                        "value": 1
                                                    },
                                                    {
                                                        "label": "Descending",
                                                        "value": -1
                                                    }
                                                ],
                                                "required": true
                                            }
                                        ],
                                        "type": "array",
                                        "label": "Sort"
                                    }
                                ],
                                "interface": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number",
                                                "label": null,
                                                "default": null,
                                                "required": false
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "label": null,
                                                "default": null,
                                                "required": false,
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ],
                                "advanced": true
                            }
                        }
                    ]
                },
                {
                    "flow": [
                        {
                            "id": 86,
                            "module": "datastore:DeleteAllRecords",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {},
                            "metadata": {
                                "designer": {
                                    "x": 600,
                                    "y": 1950,
                                    "name": "Delete previous TMP records"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ]
                            }
                        },
                        {
                            "id": 83,
                            "module": "datastore:AddRecord",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {
                                "key": "_TRNS_Header",
                                "data": {
                                    "col01": "!TRNS",
                                    "col02": "TRNSID",
                                    "col03": "TRNSTYPE",
                                    "col04": "DATE",
                                    "col05": "ACCNT",
                                    "col06": "NAME",
                                    "col07": "CLASS",
                                    "col08": "AMOUNT",
                                    "col09": "DOCNUM",
                                    "col10": "MEMO",
                                    "col11": "CLEAR",
                                    "col12": "TOPRINT",
                                    "col13": "NAMEISTAXABLE",
                                    "col14": "PAID",
                                    "col15": "INVMEMO",
                                    "col16": "ADDR1",
                                    "col17": "ADDR2",
                                    "col18": "ADDR3",
                                    "col19": "ADDR4",
                                    "col20": "ADDR5",
                                    "col21": "PAYMETH",
                                    "col22": "",
                                    "col23": "",
                                    "col24": "",
                                    "col25": "",
                                    "sortID": "1"
                                },
                                "overwrite": true
                            },
                            "metadata": {
                                "designer": {
                                    "x": 900,
                                    "y": 1950,
                                    "name": "Add !TRNS_Header"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    },
                                    "overwrite": {
                                        "mode": "chose"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "overwrite",
                                        "type": "boolean",
                                        "label": "Overwrite an existing record",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number"
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ]
                            }
                        },
                        {
                            "id": 84,
                            "module": "datastore:AddRecord",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {
                                "key": "_SPL_Header",
                                "data": {
                                    "col01": "!SPL",
                                    "col02": "SPLID",
                                    "col03": "TRNSTYPE",
                                    "col04": "DATE",
                                    "col05": "ACCNT",
                                    "col06": "NAME",
                                    "col07": "CLASS",
                                    "col08": "AMOUNT",
                                    "col09": "DOCNUM",
                                    "col10": "MEMO",
                                    "col11": "CLEAR",
                                    "col12": "QNTY",
                                    "col13": "PRICE",
                                    "col14": "INVITEM",
                                    "col15": "TAXABLE",
                                    "col16": "SALESTAXCODE",
                                    "col17": "VALADJ",
                                    "col18": "REIMBEXP",
                                    "col19": "EXTRA",
                                    "col20": "PAYMETH",
                                    "col21": "",
                                    "col22": "",
                                    "col23": "",
                                    "col24": "",
                                    "col25": "",
                                    "sortID": "2"
                                },
                                "overwrite": true
                            },
                            "metadata": {
                                "designer": {
                                    "x": 1200,
                                    "y": 1950,
                                    "name": "Add !SPL_Header"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    },
                                    "overwrite": {
                                        "mode": "chose"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "overwrite",
                                        "type": "boolean",
                                        "label": "Overwrite an existing record",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number"
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ]
                            }
                        },
                        {
                            "id": 85,
                            "module": "datastore:AddRecord",
                            "version": 1,
                            "parameters": {
                                "datastore": 24064
                            },
                            "mapper": {
                                "key": "_ENDTRNS_Header",
                                "data": {
                                    "col01": "!ENDTRNS",
                                    "col02": "",
                                    "col03": "",
                                    "col04": "",
                                    "col05": "",
                                    "col06": "",
                                    "col07": "",
                                    "col08": "",
                                    "col09": "",
                                    "col10": "",
                                    "col11": "",
                                    "col12": "",
                                    "col13": "",
                                    "col14": "",
                                    "col15": "",
                                    "col16": "",
                                    "col17": "",
                                    "col18": "",
                                    "col19": "",
                                    "col20": "",
                                    "col21": "",
                                    "col22": "",
                                    "col23": "",
                                    "col24": "",
                                    "col25": "",
                                    "sortID": "3"
                                },
                                "overwrite": true
                            },
                            "metadata": {
                                "designer": {
                                    "x": 1500,
                                    "y": 1950,
                                    "name": "Add !ENDTRNS_Header"
                                },
                                "restore": {
                                    "datastore": {
                                        "label": "WA-QB-Invoice-TMP"
                                    },
                                    "overwrite": {
                                        "mode": "chose"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "datastore",
                                        "type": "datastore",
                                        "label": "Data store",
                                        "required": true
                                    }
                                ],
                                "expect": [
                                    {
                                        "name": "key",
                                        "type": "text",
                                        "label": "Key"
                                    },
                                    {
                                        "name": "overwrite",
                                        "type": "boolean",
                                        "label": "Overwrite an existing record",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "spec": [
                                            {
                                                "name": "sortID",
                                                "type": "number"
                                            },
                                            {
                                                "name": "col01",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col02",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col03",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col04",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col05",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col06",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col07",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col08",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col09",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col10",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col11",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col12",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col13",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col14",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col15",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col16",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col17",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col18",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col19",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col20",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col21",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col22",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col23",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col24",
                                                "type": "text",
                                                "multiline": false
                                            },
                                            {
                                                "name": "col25",
                                                "type": "text",
                                                "multiline": false
                                            }
                                        ],
                                        "type": "collection",
                                        "label": "Record"
                                    }
                                ]
                            }
                        },
                        {
                            "id": 24,
                            "module": "wild-apricot:GetAccountDetails",
                            "version": 1,
                            "parameters": {
                                "__IMTCONN__": 1485309
                            },
                            "mapper": {},
                            "metadata": {
                                "designer": {
                                    "x": 1800,
                                    "y": 1950
                                },
                                "restore": {
                                    "__IMTCONN__": {
                                        "label": "Dave WA (RockIt Project)"
                                    }
                                },
                                "parameters": [
                                    {
                                        "name": "__IMTCONN__",
                                        "type": "account",
                                        "label": "Connection",
                                        "required": true
                                    }
                                ]
                            }
                        },
                        {
                            "id": 170,
                            "module": "builtin:BasicRouter",
                            "version": 1,
                            "mapper": null,
                            "metadata": {
                                "designer": {
                                    "x": 2100,
                                    "y": 1950
                                }
                            },
                            "routes": [
                                {
                                    "flow": [
                                        {
                                            "id": 3,
                                            "module": "wild-apricot:GetInvoicesList",
                                            "version": 1,
                                            "parameters": {
                                                "__IMTCONN__": 1485309
                                            },
                                            "mapper": {
                                                "RelatedTo": "",
                                                "StartDate": "{{if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Manual Dates\"; parseDate(22.`WA INVOICE Time Periods`.`Manual Start Date`; \"YYYY-MM-DD\"); if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Scheduled\"; addMonths(now; \"-\" + 22.`WA INVOICE Time Periods`.`Scheduled Number of Months Back`); addMonths(now; -2)))}}",
                                                "unpaidOnly": false
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 2400,
                                                    "y": 1800
                                                },
                                                "restore": {
                                                    "RelatedTo": {
                                                        "label": ""
                                                    },
                                                    "__IMTCONN__": {
                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "__IMTCONN__",
                                                        "type": "account",
                                                        "label": "Connection",
                                                        "required": true
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "StartDate",
                                                        "type": "date",
                                                        "label": "Start Date"
                                                    },
                                                    {
                                                        "name": "RelatedTo",
                                                        "type": "select",
                                                        "validate": {
                                                            "enum": [
                                                                "Contact",
                                                                "Event",
                                                                "Event Registration"
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "name": "unpaidOnly",
                                                        "type": "boolean",
                                                        "label": "UnpaidOnly",
                                                        "required": true
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": 198,
                                            "module": "builtin:BasicRouter",
                                            "version": 1,
                                            "filter": {
                                                "name": "filter to limit results during test",
                                                "conditions": [
                                                    [
                                                        {
                                                            "a": "{{if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Manual Dates\"; if(parseDate(22.`WA INVOICE Time Periods`.`Manual End Date`; \"YYYY-MM-DD\") >= parseDate(3.DocumentDate; \"YYYY-MM-DD\"); true; false); true)}}",
                                                            "b": "{{true}}",
                                                            "o": "text:equal"
                                                        }
                                                    ]
                                                ]
                                            },
                                            "mapper": null,
                                            "metadata": {
                                                "designer": {
                                                    "x": 2700,
                                                    "y": 1800
                                                }
                                            },
                                            "routes": [
                                                {
                                                    "flow": [
                                                        {
                                                            "id": 55,
                                                            "module": "wild-apricot:GetInvoiceDetails",
                                                            "version": 1,
                                                            "parameters": {
                                                                "__IMTCONN__": 1485309
                                                            },
                                                            "filter": {
                                                                "name": "Filter for testing purposes",
                                                                "conditions": [
                                                                    [
                                                                        {
                                                                            "a": "{{3.Id}}",
                                                                            "b": "60253259",
                                                                            "o": "text:equal"
                                                                        }
                                                                    ],
                                                                    [
                                                                        {
                                                                            "a": "{{3.Id}}",
                                                                            "b": "60056722",
                                                                            "o": "text:equal"
                                                                        }
                                                                    ],
                                                                    [
                                                                        {
                                                                            "a": "{{3.Id}}",
                                                                            "b": "59962681",
                                                                            "o": "text:equal"
                                                                        }
                                                                    ]
                                                                ]
                                                            },
                                                            "mapper": {
                                                                "invoiceId": "{{3.Id}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 3300,
                                                                    "y": 1800
                                                                },
                                                                "restore": {
                                                                    "__IMTCONN__": {
                                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "__IMTCONN__",
                                                                        "type": "account",
                                                                        "label": "Connection",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "invoiceId",
                                                                        "type": "uinteger",
                                                                        "label": "Invoice identifier",
                                                                        "required": true
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 90,
                                                            "module": "wild-apricot:GetContactDetails",
                                                            "version": 1,
                                                            "parameters": {
                                                                "__IMTCONN__": 1485309
                                                            },
                                                            "mapper": {
                                                                "contactId": "{{55.Contact.Id}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 3600,
                                                                    "y": 1800
                                                                },
                                                                "restore": {
                                                                    "__IMTCONN__": {
                                                                        "label": "Dave WA (RockIt Project)"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "__IMTCONN__",
                                                                        "type": "account",
                                                                        "label": "Connection",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "contactId",
                                                                        "type": "uinteger",
                                                                        "label": "Contact identifier",
                                                                        "required": true
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 173,
                                                            "module": "wild-apricot:GetRegistrationDetails",
                                                            "version": 1,
                                                            "parameters": {
                                                                "__IMTCONN__": 1485309
                                                            },
                                                            "mapper": {
                                                                "registrationId": "{{55.EventRegistration.Id}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 3900,
                                                                    "y": 1800
                                                                },
                                                                "restore": {
                                                                    "__IMTCONN__": {
                                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "__IMTCONN__",
                                                                        "type": "account",
                                                                        "label": "Connection",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "registrationId",
                                                                        "type": "uinteger",
                                                                        "label": "Registration identifier",
                                                                        "required": true
                                                                    }
                                                                ]
                                                            },
                                                            "onerror": [
                                                                {
                                                                    "id": 178,
                                                                    "module": "builtin:Resume",
                                                                    "version": 1,
                                                                    "parameters": {},
                                                                    "filter": {
                                                                        "name": "Not an Event Invoice",
                                                                        "conditions": [
                                                                            [
                                                                                {
                                                                                    "a": "{{173.error.type}}",
                                                                                    "b": "BundleValidationError",
                                                                                    "o": "text:equal"
                                                                                }
                                                                            ]
                                                                        ]
                                                                    },
                                                                    "mapper": {
                                                                        "Id": "",
                                                                        "Memo": "",
                                                                        "EventId": "",
                                                                        "PaidSum": "",
                                                                        "ContactId": "",
                                                                        "RegistrationFee": "",
                                                                        "RegistrationDate": "",
                                                                        "RegistrationFields": [],
                                                                        "RegistrationTypeId": "",
                                                                        "ParentRegistrationId": "",
                                                                        "GuestRegistrationsSummary": {
                                                                            "NumberOfGuests": "",
                                                                            "GuestRegistrations": [],
                                                                            "NumberOfGuestsCheckedIn": ""
                                                                        }
                                                                    },
                                                                    "metadata": {
                                                                        "designer": {
                                                                            "x": 3600,
                                                                            "y": 3300
                                                                        },
                                                                        "restore": {
                                                                            "RegistrationFields": {
                                                                                "items": []
                                                                            },
                                                                            "GuestRegistrationsSummary": {
                                                                                "nested": {
                                                                                    "GuestRegistrations": {
                                                                                        "items": []
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        "expect": [
                                                                            {
                                                                                "name": "Id",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "EventId",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "ContactId",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "RegistrationTypeId",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "GuestRegistrationsSummary",
                                                                                "spec": [
                                                                                    {
                                                                                        "name": "NumberOfGuests",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "NumberOfGuestsCheckedIn",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "GuestRegistrations",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "Id",
                                                                                                "type": "number"
                                                                                            }
                                                                                        ],
                                                                                        "type": "array"
                                                                                    }
                                                                                ],
                                                                                "type": "collection",
                                                                                "label": "GuestRegistrationsSummary"
                                                                            },
                                                                            {
                                                                                "name": "IsCheckedIn",
                                                                                "type": "boolean"
                                                                            },
                                                                            {
                                                                                "name": "RegistrationFee",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "PaidSum",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "RegistrationFields",
                                                                                "spec": [
                                                                                    {
                                                                                        "name": "FieldName",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "SystemCode",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "Value",
                                                                                        "spec": [],
                                                                                        "type": "collection"
                                                                                    }
                                                                                ],
                                                                                "type": "array"
                                                                            },
                                                                            {
                                                                                "name": "ShowToPublic",
                                                                                "type": "boolean"
                                                                            },
                                                                            {
                                                                                "name": "RegistrationDate",
                                                                                "type": "date"
                                                                            },
                                                                            {
                                                                                "name": "Memo",
                                                                                "type": "text"
                                                                            },
                                                                            {
                                                                                "name": "IsGuestRegistration",
                                                                                "type": "boolean"
                                                                            },
                                                                            {
                                                                                "name": "ParentRegistrationId",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "OnWaitlist",
                                                                                "type": "boolean"
                                                                            }
                                                                        ]
                                                                    }
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "id": 174,
                                                            "module": "wild-apricot:getEventDetails",
                                                            "version": 1,
                                                            "parameters": {
                                                                "__IMTCONN__": 1485309
                                                            },
                                                            "mapper": {
                                                                "EventId": "{{173.EventId}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 4200,
                                                                    "y": 1650
                                                                },
                                                                "restore": {
                                                                    "__IMTCONN__": {
                                                                        "label": "MCABC Wild Apricot (Mechanical Contractors Association of British Columbia)"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "__IMTCONN__",
                                                                        "type": "account",
                                                                        "label": "Connection",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "EventId",
                                                                        "type": "uinteger",
                                                                        "required": true
                                                                    }
                                                                ]
                                                            },
                                                            "onerror": [
                                                                {
                                                                    "id": 179,
                                                                    "module": "builtin:Resume",
                                                                    "version": 1,
                                                                    "parameters": {},
                                                                    "filter": {
                                                                        "name": "Not an Event Invoice",
                                                                        "conditions": [
                                                                            [
                                                                                {
                                                                                    "a": "{{174.error.type}}",
                                                                                    "b": "BundleValidationError",
                                                                                    "o": "text:equal"
                                                                                }
                                                                            ]
                                                                        ]
                                                                    },
                                                                    "mapper": {
                                                                        "Id": "",
                                                                        "Name": "",
                                                                        "Tags": [],
                                                                        "Details": {
                                                                            "TimeZone": {
                                                                                "Name": "",
                                                                                "ZoneId": "",
                                                                                "UtcOffset": ""
                                                                            },
                                                                            "TotalDue": "",
                                                                            "Organizer": {
                                                                                "Id": ""
                                                                            },
                                                                            "TotalPaid": "",
                                                                            "AccessControl": {
                                                                                "AccessLevel": "",
                                                                                "AvailableForGroups": [],
                                                                                "AvailableForLevels": []
                                                                            },
                                                                            "PaymentMethod": "",
                                                                            "DescriptionHtml": "",
                                                                            "WaitlistSettings": {
                                                                                "WaitlistType": "",
                                                                                "InformationToCollect": ""
                                                                            },
                                                                            "RegistrationTypes": [],
                                                                            "PaymentInstructions": "",
                                                                            "RegistrationMessage": "",
                                                                            "EventRegistrationFields": [],
                                                                            "AttendeesDisplaySettings": {
                                                                                "VisibleTo": ""
                                                                            },
                                                                            "GuestRegistrationSettings": {
                                                                                "CreateContactMode": ""
                                                                            },
                                                                            "RegistrationConfirmationExtraInfo": ""
                                                                        },
                                                                        "EndDate": "",
                                                                        "Location": "",
                                                                        "Sessions": [],
                                                                        "EventType": "",
                                                                        "StartDate": "",
                                                                        "AccessLevel": "",
                                                                        "InviteeStat": {
                                                                            "Attended": "",
                                                                            "NotAttended": "",
                                                                            "NotResponded": "",
                                                                            "MaybeAttended": ""
                                                                        },
                                                                        "RegistrationsLimit": "",
                                                                        "CheckedInAttendeesNumber": "",
                                                                        "PendingRegistrationsCount": "",
                                                                        "ConfirmedRegistrationsCount": ""
                                                                    },
                                                                    "metadata": {
                                                                        "designer": {
                                                                            "x": 3900,
                                                                            "y": 3000
                                                                        },
                                                                        "restore": {
                                                                            "Tags": {
                                                                                "items": []
                                                                            },
                                                                            "Details": {
                                                                                "nested": {
                                                                                    "AccessControl": {
                                                                                        "nested": {
                                                                                            "AvailableForGroups": {
                                                                                                "items": []
                                                                                            },
                                                                                            "AvailableForLevels": {
                                                                                                "items": []
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                    "RegistrationTypes": {
                                                                                        "items": []
                                                                                    },
                                                                                    "EventRegistrationFields": {
                                                                                        "items": []
                                                                                    }
                                                                                }
                                                                            },
                                                                            "Sessions": {
                                                                                "items": []
                                                                            }
                                                                        },
                                                                        "expect": [
                                                                            {
                                                                                "name": "Id",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "Name",
                                                                                "type": "text"
                                                                            },
                                                                            {
                                                                                "name": "EventType",
                                                                                "type": "text"
                                                                            },
                                                                            {
                                                                                "name": "StartDate",
                                                                                "type": "date"
                                                                            },
                                                                            {
                                                                                "name": "StartTimeSpecified",
                                                                                "type": "boolean"
                                                                            },
                                                                            {
                                                                                "name": "EndDate",
                                                                                "type": "date"
                                                                            },
                                                                            {
                                                                                "name": "EndTimeSpecified",
                                                                                "type": "boolean"
                                                                            },
                                                                            {
                                                                                "name": "Location",
                                                                                "type": "text"
                                                                            },
                                                                            {
                                                                                "name": "RegistrationEnabled",
                                                                                "type": "boolean"
                                                                            },
                                                                            {
                                                                                "name": "HasEnabledRegistrationTypes",
                                                                                "type": "boolean"
                                                                            },
                                                                            {
                                                                                "name": "AccessLevel",
                                                                                "type": "text"
                                                                            },
                                                                            {
                                                                                "name": "Tags",
                                                                                "spec": {
                                                                                    "type": "text"
                                                                                },
                                                                                "type": "array"
                                                                            },
                                                                            {
                                                                                "name": "Details",
                                                                                "spec": [
                                                                                    {
                                                                                        "name": "TimeZone",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "ZoneId",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "Name",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "UtcOffset",
                                                                                                "type": "number"
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "TimeZone"
                                                                                    },
                                                                                    {
                                                                                        "name": "AccessControl",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "AccessLevel",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "AvailableForAnyLevel",
                                                                                                "type": "boolean"
                                                                                            },
                                                                                            {
                                                                                                "name": "AvailableForLevels",
                                                                                                "spec": [
                                                                                                    {
                                                                                                        "name": "Id",
                                                                                                        "type": "number"
                                                                                                    }
                                                                                                ],
                                                                                                "type": "array"
                                                                                            },
                                                                                            {
                                                                                                "name": "AvailableForAnyGroup",
                                                                                                "type": "boolean"
                                                                                            },
                                                                                            {
                                                                                                "name": "AvailableForGroups",
                                                                                                "spec": [
                                                                                                    {
                                                                                                        "name": "Id",
                                                                                                        "type": "number"
                                                                                                    }
                                                                                                ],
                                                                                                "type": "array"
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "AccessControl"
                                                                                    },
                                                                                    {
                                                                                        "name": "GuestRegistrationSettings",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "Enabled",
                                                                                                "type": "boolean"
                                                                                            },
                                                                                            {
                                                                                                "name": "CreateContactMode",
                                                                                                "type": "text"
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "GuestRegistrationSettings"
                                                                                    },
                                                                                    {
                                                                                        "name": "Organizer",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "Id",
                                                                                                "type": "number"
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "Organizer"
                                                                                    },
                                                                                    {
                                                                                        "name": "WaitlistSettings",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "WaitlistType",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "InformationToCollect",
                                                                                                "type": "text"
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "WaitlistSettings"
                                                                                    },
                                                                                    {
                                                                                        "name": "AttendeesDisplaySettings",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "VisibleTo",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "ShowPendingAttendees",
                                                                                                "type": "boolean"
                                                                                            }
                                                                                        ],
                                                                                        "type": "collection",
                                                                                        "label": "AttendeesDisplaySettings"
                                                                                    },
                                                                                    {
                                                                                        "name": "DescriptionHtml",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "PaymentInstructions",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "RegistrationTypes",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "Id",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "IsEnabled",
                                                                                                "type": "boolean"
                                                                                            },
                                                                                            {
                                                                                                "name": "EventId",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "Name",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "Description",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "BasePrice",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "GuestPrice",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "UseTaxScopeSettings",
                                                                                                "type": "boolean"
                                                                                            },
                                                                                            {
                                                                                                "name": "Availability",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "RegistrationCode",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "AvailableForMembershipLevels",
                                                                                                "spec": [
                                                                                                    {
                                                                                                        "name": "Id",
                                                                                                        "type": "number"
                                                                                                    }
                                                                                                ],
                                                                                                "type": "array"
                                                                                            },
                                                                                            {
                                                                                                "name": "AvailableFrom",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "AvailableThrough",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "MaximumRegistrantsCount",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "CurrentRegistrantsCount",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "GuestRegistrationPolicy",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "UnavailabilityPolicy",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "CancellationBehaviour",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "CancellationDaysBeforeEvent",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "IsWaitlistEnabled",
                                                                                                "type": "boolean"
                                                                                            }
                                                                                        ],
                                                                                        "type": "array"
                                                                                    },
                                                                                    {
                                                                                        "name": "EventRegistrationFields",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "FieldName",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "SystemCode",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "Type",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "DisplayType",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "IsSystem",
                                                                                                "type": "boolean"
                                                                                            },
                                                                                            {
                                                                                                "name": "AdminOnly",
                                                                                                "type": "boolean"
                                                                                            },
                                                                                            {
                                                                                                "name": "Description",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "FieldInstructions",
                                                                                                "type": "text"
                                                                                            },
                                                                                            {
                                                                                                "name": "AllowedValues",
                                                                                                "spec": [
                                                                                                    {
                                                                                                        "name": "Id",
                                                                                                        "type": "number"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Label",
                                                                                                        "type": "text"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Position",
                                                                                                        "type": "number"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "SelectedByDefault",
                                                                                                        "type": "boolean"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "ExtraCost",
                                                                                                        "type": "number"
                                                                                                    }
                                                                                                ],
                                                                                                "type": "array"
                                                                                            },
                                                                                            {
                                                                                                "name": "Order",
                                                                                                "type": "number"
                                                                                            },
                                                                                            {
                                                                                                "name": "ExtraCharge",
                                                                                                "spec": [
                                                                                                    {
                                                                                                        "name": "MultiplierType",
                                                                                                        "type": "text"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Multiplier",
                                                                                                        "type": "number"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "MinAmount",
                                                                                                        "type": "number"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "MaxAmount",
                                                                                                        "type": "number"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "MinCharge",
                                                                                                        "type": "number"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "MaxCharge",
                                                                                                        "type": "number"
                                                                                                    }
                                                                                                ],
                                                                                                "type": "collection"
                                                                                            },
                                                                                            {
                                                                                                "name": "Kind",
                                                                                                "type": "text"
                                                                                            }
                                                                                        ],
                                                                                        "type": "array"
                                                                                    },
                                                                                    {
                                                                                        "name": "TotalPaid",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "TotalDue",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "PaymentMethod",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "RegistrationConfirmationExtraInfo",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "RegistrationMessage",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "SendEmailCopy",
                                                                                        "type": "boolean"
                                                                                    },
                                                                                    {
                                                                                        "name": "IsWaitlistEnabled",
                                                                                        "type": "boolean"
                                                                                    },
                                                                                    {
                                                                                        "name": "MultipleRegistrationAllowed",
                                                                                        "type": "boolean"
                                                                                    }
                                                                                ],
                                                                                "type": "collection",
                                                                                "label": "Details"
                                                                            },
                                                                            {
                                                                                "name": "Sessions",
                                                                                "spec": [
                                                                                    {
                                                                                        "name": "Id",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "Title",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "StartDate",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "StartTimeSpecified",
                                                                                        "type": "boolean"
                                                                                    },
                                                                                    {
                                                                                        "name": "EndDate",
                                                                                        "type": "text"
                                                                                    },
                                                                                    {
                                                                                        "name": "EndTimeSpecified",
                                                                                        "type": "boolean"
                                                                                    }
                                                                                ],
                                                                                "type": "array"
                                                                            },
                                                                            {
                                                                                "name": "RegistrationsLimit",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "InviteeStat",
                                                                                "spec": [
                                                                                    {
                                                                                        "name": "NotResponded",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "NotAttended",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "Attended",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "MaybeAttended",
                                                                                        "type": "number"
                                                                                    }
                                                                                ],
                                                                                "type": "collection",
                                                                                "label": "InviteeStat"
                                                                            },
                                                                            {
                                                                                "name": "PendingRegistrationsCount",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "ConfirmedRegistrationsCount",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "CheckedInAttendeesNumber",
                                                                                "type": "number"
                                                                            }
                                                                        ]
                                                                    }
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "id": 175,
                                                            "module": "builtin:BasicFeeder",
                                                            "version": 1,
                                                            "parameters": {},
                                                            "mapper": {
                                                                "array": "{{22.`WA Order Types`}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 4500,
                                                                    "y": 1500
                                                                },
                                                                "restore": {
                                                                    "array": {
                                                                        "mode": "edit"
                                                                    }
                                                                },
                                                                "expect": [
                                                                    {
                                                                        "mode": "edit",
                                                                        "name": "array",
                                                                        "spec": [],
                                                                        "type": "array",
                                                                        "label": "Array"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 176,
                                                            "module": "builtin:BasicFeeder",
                                                            "version": 1,
                                                            "parameters": {},
                                                            "filter": {
                                                                "name": "Limit to matching Header Order Type",
                                                                "conditions": [
                                                                    [
                                                                        {
                                                                            "a": "{{55.OrderType}}",
                                                                            "b": "{{175.OrderType}}",
                                                                            "o": "text:equal"
                                                                        }
                                                                    ]
                                                                ]
                                                            },
                                                            "mapper": {
                                                                "array": "{{175.`Order Line Item Mapping`}}"
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 4800,
                                                                    "y": 1500
                                                                },
                                                                "restore": {
                                                                    "array": {
                                                                        "mode": "edit"
                                                                    }
                                                                },
                                                                "expect": [
                                                                    {
                                                                        "mode": "edit",
                                                                        "name": "array",
                                                                        "spec": [],
                                                                        "type": "array",
                                                                        "label": "Array"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 81,
                                                            "module": "datastore:AddRecord",
                                                            "version": 1,
                                                            "parameters": {
                                                                "datastore": 24064
                                                            },
                                                            "filter": {
                                                                "name": "Limit to Order Detail Mapping match",
                                                                "conditions": [
                                                                    [
                                                                        {
                                                                            "a": "{{55.OrderType}}",
                                                                            "b": "Membership",
                                                                            "o": "text:startwith:ci"
                                                                        },
                                                                        {
                                                                            "a": "{{55.OrderDetails[].Notes}}",
                                                                            "b": "{{176.OrderDetailFilter}}",
                                                                            "o": "text:endwith:ci"
                                                                        }
                                                                    ],
                                                                    [
                                                                        {
                                                                            "a": "{{55.OrderType}}",
                                                                            "b": "EventRegistration",
                                                                            "o": "text:equal"
                                                                        },
                                                                        {
                                                                            "a": "{{contains(174.Tags; lower(176.OrderDetailFilter))}}",
                                                                            "b": "{{true}}",
                                                                            "o": "boolean:equal"
                                                                        }
                                                                    ],
                                                                    [
                                                                        {
                                                                            "a": "{{55.OrderType}}",
                                                                            "b": "OnlineStore",
                                                                            "o": "text:equal"
                                                                        },
                                                                        {
                                                                            "a": "{{176.`__IMTINDEX__`}}",
                                                                            "b": "1",
                                                                            "o": "number:equal"
                                                                        }
                                                                    ],
                                                                    [
                                                                        {
                                                                            "a": "{{55.OrderType}}",
                                                                            "b": "Undefined",
                                                                            "o": "text:equal"
                                                                        },
                                                                        {
                                                                            "a": "{{176.`__IMTINDEX__`}}",
                                                                            "b": "1",
                                                                            "o": "number:equal"
                                                                        }
                                                                    ]
                                                                ]
                                                            },
                                                            "mapper": {
                                                                "key": "",
                                                                "data": {
                                                                    "col01": "TRNS",
                                                                    "col02": "{{55.Id}}",
                                                                    "col03": "INVOICE",
                                                                    "col04": "{{formatDate(55.DocumentDate; \"YYYY-MM-DD\")}}",
                                                                    "col05": "{{175.`QB Receivables Account`}}",
                                                                    "col06": "{{substring(ifempty(replace(replace(replace(22.`Customer Name`; \"{User_Id}\"; 55.Contact.Id); \"{User_DisplayName}\"; 90.DisplayName); \"{Company_Name}\"; 90.FieldValuesByName.`Company Name`.Value); 90.DisplayName); 0; 41)}}",
                                                                    "col07": "{{ifempty(176.`QB SubClass`; 175.`QB Header Class`)}}",
                                                                    "col08": "{{55.Value}}",
                                                                    "col09": "{{toString(55.DocumentNumber)}}",
                                                                    "col10": "{{replace(replace(55.Memo; carriagereturn; space); newline; space)}}",
                                                                    "col11": "N",
                                                                    "col12": "Y",
                                                                    "col13": "Y",
                                                                    "col14": "{{if(55.IsPaid = true; \"Y\"; \"N\")}}",
                                                                    "col15": "{{replace(replace(55.PublicMemo; carriagereturn; space); newline; space)}}",
                                                                    "col16": "{{substring(replace(22.`Customer Billing Address`.Address1; \"{User_DisplayName}\"; 90.DisplayName); 0; 41)}}",
                                                                    "col17": "{{substring(replace(22.`Customer Billing Address`.Address2; \"{User_Email}\"; 90.Email); 0; 41)}}",
                                                                    "col18": "{{substring(replace(22.`Customer Billing Address`.Address3; \"{AddressLine1}\"; 90.FieldValuesByName.`Street Address`.Value); 0; 41)}}",
                                                                    "col19": "{{substring(replace(22.`Customer Billing Address`.Address4; \"{AddressLine2}\"; space); 0; 41)}}",
                                                                    "col20": "{{substring(replace(replace(replace(22.`Customer Billing Address`.Address5; \"{City}\"; 90.FieldValuesByName.City.Value); \"{Province}\"; 90.FieldValuesByName.Province.Value.Label); \"{PostalCode}\"; 90.FieldValuesByName.`Postal Code`.Value); 0; 41)}}",
                                                                    "col21": "",
                                                                    "col22": "",
                                                                    "col23": "",
                                                                    "col24": "",
                                                                    "col25": "",
                                                                    "sortID": "{{55.Id}}"
                                                                },
                                                                "overwrite": false
                                                            },
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 5100,
                                                                    "y": 1500,
                                                                    "name": "Add Inv TRNS Line"
                                                                },
                                                                "restore": {
                                                                    "datastore": {
                                                                        "label": "WA-QB-Invoice-TMP"
                                                                    },
                                                                    "overwrite": {
                                                                        "mode": "chose"
                                                                    }
                                                                },
                                                                "parameters": [
                                                                    {
                                                                        "name": "datastore",
                                                                        "type": "datastore",
                                                                        "label": "Data store",
                                                                        "required": true
                                                                    }
                                                                ],
                                                                "expect": [
                                                                    {
                                                                        "name": "key",
                                                                        "type": "text",
                                                                        "label": "Key"
                                                                    },
                                                                    {
                                                                        "name": "overwrite",
                                                                        "type": "boolean",
                                                                        "label": "Overwrite an existing record",
                                                                        "required": true
                                                                    },
                                                                    {
                                                                        "name": "data",
                                                                        "spec": [
                                                                            {
                                                                                "name": "sortID",
                                                                                "type": "number"
                                                                            },
                                                                            {
                                                                                "name": "col01",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col02",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col03",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col04",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col05",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col06",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col07",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col08",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col09",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col10",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col11",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col12",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col13",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col14",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col15",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col16",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col17",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col18",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col19",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col20",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col21",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col22",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col23",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col24",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            },
                                                                            {
                                                                                "name": "col25",
                                                                                "type": "text",
                                                                                "multiline": false
                                                                            }
                                                                        ],
                                                                        "type": "collection",
                                                                        "label": "Record"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "id": 183,
                                                            "module": "builtin:BasicRouter",
                                                            "version": 1,
                                                            "mapper": null,
                                                            "metadata": {
                                                                "designer": {
                                                                    "x": 5400,
                                                                    "y": 1500
                                                                }
                                                            },
                                                            "routes": [
                                                                {
                                                                    "flow": [
                                                                        {
                                                                            "id": 73,
                                                                            "module": "builtin:BasicFeeder",
                                                                            "version": 1,
                                                                            "parameters": {},
                                                                            "mapper": {
                                                                                "array": "{{55.OrderDetails}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 5700,
                                                                                    "y": 1350,
                                                                                    "name": "Iterate thru Line Items to Parse"
                                                                                },
                                                                                "restore": {
                                                                                    "array": {
                                                                                        "mode": "edit"
                                                                                    }
                                                                                },
                                                                                "expect": [
                                                                                    {
                                                                                        "mode": "edit",
                                                                                        "name": "array",
                                                                                        "spec": [],
                                                                                        "type": "array",
                                                                                        "label": "Array"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 189,
                                                                            "module": "builtin:BasicFeeder",
                                                                            "version": 1,
                                                                            "parameters": {},
                                                                            "mapper": {
                                                                                "array": "{{22.`WA Order ExtraCost Exceptions`}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 6064,
                                                                                    "y": 1351,
                                                                                    "name": "Iterate thru Extra Cost mappings"
                                                                                },
                                                                                "restore": {
                                                                                    "array": {
                                                                                        "mode": "edit"
                                                                                    }
                                                                                },
                                                                                "expect": [
                                                                                    {
                                                                                        "mode": "edit",
                                                                                        "name": "array",
                                                                                        "spec": [],
                                                                                        "type": "array",
                                                                                        "label": "Array"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 190,
                                                                            "module": "util:SetVariables",
                                                                            "version": 1,
                                                                            "parameters": {},
                                                                            "mapper": {
                                                                                "scope": "roundtrip",
                                                                                "variables": [
                                                                                    {
                                                                                        "name": "EC Inventory Item",
                                                                                        "value": "{{if(189.`ExtraCost Name` = substring(73.Notes; 0; length(189.`ExtraCost Name`)); 189.`EC QB Inventory Item`; \"NoECMatch\")}}"
                                                                                    },
                                                                                    {
                                                                                        "name": "EC Income Account",
                                                                                        "value": "{{if(189.`ExtraCost Name` = substring(73.Notes; 0; length(189.`ExtraCost Name`)); 189.`EC QB Income Account`; \"NoECMatch\")}}"
                                                                                    },
                                                                                    {
                                                                                        "name": "EC Class",
                                                                                        "value": "{{if(189.`ExtraCost Name` = substring(73.Notes; 0; length(189.`ExtraCost Name`)); 189.`EC QB SubClass`; \"NoECMatch\")}}"
                                                                                    }
                                                                                ]
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 6600,
                                                                                    "y": 1350
                                                                                },
                                                                                "restore": {
                                                                                    "scope": {
                                                                                        "label": "One cycle"
                                                                                    },
                                                                                    "variables": {
                                                                                        "items": [
                                                                                            "undefined",
                                                                                            "undefined",
                                                                                            "undefined"
                                                                                        ]
                                                                                    }
                                                                                },
                                                                                "expect": [
                                                                                    {
                                                                                        "name": "variables",
                                                                                        "spec": [
                                                                                            {
                                                                                                "name": "name",
                                                                                                "type": "text",
                                                                                                "label": "Variable name",
                                                                                                "required": true
                                                                                            },
                                                                                            {
                                                                                                "name": "value",
                                                                                                "type": "any",
                                                                                                "label": "Variable value"
                                                                                            }
                                                                                        ],
                                                                                        "type": "array",
                                                                                        "label": "Variables"
                                                                                    },
                                                                                    {
                                                                                        "name": "scope",
                                                                                        "type": "select",
                                                                                        "label": "Variable lifetime",
                                                                                        "required": true,
                                                                                        "validate": {
                                                                                            "enum": [
                                                                                                "roundtrip",
                                                                                                "execution"
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                ],
                                                                                "interface": [
                                                                                    {
                                                                                        "name": "EC Inventory Item",
                                                                                        "type": "any",
                                                                                        "label": "EC Inventory Item"
                                                                                    },
                                                                                    {
                                                                                        "name": "EC Income Account",
                                                                                        "type": "any",
                                                                                        "label": "EC Income Account"
                                                                                    },
                                                                                    {
                                                                                        "name": "EC Class",
                                                                                        "type": "any",
                                                                                        "label": "EC Class"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 191,
                                                                            "module": "builtin:BasicAggregator",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "feeder": 189
                                                                            },
                                                                            "filter": {
                                                                                "name": "Only pass ExtraCost Matches",
                                                                                "conditions": [
                                                                                    [
                                                                                        {
                                                                                            "a": "{{190.`EC Inventory Item`}}",
                                                                                            "b": "NoECMatch",
                                                                                            "o": "text:notequal"
                                                                                        }
                                                                                    ]
                                                                                ]
                                                                            },
                                                                            "mapper": {
                                                                                "EC Class": "{{190.`EC Class`}}",
                                                                                "EC Income Account": "{{190.`EC Income Account`}}",
                                                                                "EC Inventory Item": "{{190.`EC Inventory Item`}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 6900,
                                                                                    "y": 1350,
                                                                                    "name": "Aggregate Extra Cost Match results"
                                                                                },
                                                                                "restore": {
                                                                                    "feeder": {
                                                                                        "label": "Iterator [189]"
                                                                                    },
                                                                                    "mapper": {
                                                                                        "label": [
                                                                                            null,
                                                                                            null,
                                                                                            null
                                                                                        ]
                                                                                    },
                                                                                    "target": {
                                                                                        "label": "Custom"
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 72,
                                                                            "module": "json:AggregateToJSON",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "type": 112940,
                                                                                "space": "",
                                                                                "feeder": 73
                                                                            },
                                                                            "mapper": {
                                                                                "LineNotes": "{{replace(replace(73.Notes; newline; space); carriagereturn; space)}}",
                                                                                "LineNumber": "{{73.`__IMTINDEX__`}}",
                                                                                "LineTax1ID": "{{73.Taxes.Tax1.Name}}",
                                                                                "LineTax2ID": "{{73.Taxes.Tax2.Name}}",
                                                                                "LineQBClass": "{{if(191.`__IMTAGGLENGTH__` > 0; 191.array[].`EC Class`; ifempty(176.`QB SubClass`; 175.`QB Header Class`))}}",
                                                                                "InvoiceNumber": "{{55.Id}}",
                                                                                "LineNetAmount": "{{73.Taxes.NetAmount}}",
                                                                                "LineOrderType": "{{73.OrderDetailType}}",
                                                                                "LineQBInvItem": "{{if(191.`__IMTAGGLENGTH__` > 0; 191.array[].`EC Inventory Item`; 176.`QB Inventory Item`)}}",
                                                                                "LineTaxIDArray": [
                                                                                    "{{73.Taxes.Tax1.Name}}",
                                                                                    "{{73.Taxes.Tax2.Name}}"
                                                                                ],
                                                                                "LineTaxIDCount": "{{if(73.Taxes.Tax1.Name = null; 0; 1) + if(73.Taxes.Tax2.Name = null; 0; 1)}}",
                                                                                "LineTotalValue": "{{73.Value}}",
                                                                                "InvoiceOrderType": "{{55.OrderType}}",
                                                                                "LineCalcTax1Amount": "{{73.Taxes.CalculatedTax1}}",
                                                                                "LineCalcTax2Amount": "{{73.Taxes.CalculatedTax2}}",
                                                                                "LineQBIncomeAccount": "{{if(191.`__IMTAGGLENGTH__` > 0; 191.array[].`EC Income Account`; ifempty(176.`QB Income Account Override`; 175.`QB Income Account Default`))}}",
                                                                                "LineTaxIncludedInPrice": "{{73.Taxes.IsTaxIncludeIntoPrice}}",
                                                                                "LineTotalRoundedAmount": "{{73.Taxes.RoundedAmount}}",
                                                                                "LineTotalUnRoundedAmount": "{{73.Taxes.Amount}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 7200,
                                                                                    "y": 1350
                                                                                },
                                                                                "restore": {
                                                                                    "type": {
                                                                                        "label": "WA-QB-Invoice-Line"
                                                                                    },
                                                                                    "space": {
                                                                                        "label": ""
                                                                                    },
                                                                                    "feeder": {
                                                                                        "label": "Iterate thru Line Items to Parse [73]"
                                                                                    },
                                                                                    "LineTaxIDArray": {
                                                                                        "mode": "chose",
                                                                                        "items": [
                                                                                            "undefined",
                                                                                            "undefined"
                                                                                        ]
                                                                                    },
                                                                                    "LineTaxIncludedInPrice": {
                                                                                        "mode": "edit"
                                                                                    }
                                                                                },
                                                                                "parameters": [
                                                                                    {
                                                                                        "name": "type",
                                                                                        "type": "udt",
                                                                                        "label": "Data structure",
                                                                                        "required": true
                                                                                    },
                                                                                    {
                                                                                        "name": "space",
                                                                                        "type": "select",
                                                                                        "label": "Indentation",
                                                                                        "validate": {
                                                                                            "enum": [
                                                                                                "tab",
                                                                                                "2",
                                                                                                "4"
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                ],
                                                                                "expect": [
                                                                                    {
                                                                                        "name": "InvoiceNumber",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "InvoiceOrderType",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineNumber",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineOrderType",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTotalValue",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineNotes",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineNetAmount",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineCalcTax1Amount",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineCalcTax2Amount",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTotalRoundedAmount",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTotalUnRoundedAmount",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTax1ID",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTax2ID",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTaxIDCount",
                                                                                        "type": "number"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTaxIncludedInPrice",
                                                                                        "type": "boolean"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTaxIDArray",
                                                                                        "spec": {
                                                                                            "type": "text",
                                                                                            "multiline": false
                                                                                        },
                                                                                        "type": "array"
                                                                                    },
                                                                                    {
                                                                                        "name": "LineQBIncomeAccount",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineQBInvItem",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineQBClass",
                                                                                        "type": "text",
                                                                                        "multiline": false
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 74,
                                                                            "module": "json:ParseJSON",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "type": 112940
                                                                            },
                                                                            "mapper": {
                                                                                "json": "{{72.json}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 7500,
                                                                                    "y": 1350
                                                                                },
                                                                                "restore": {
                                                                                    "type": {
                                                                                        "label": "WA-QB-Invoice-Line"
                                                                                    }
                                                                                },
                                                                                "parameters": [
                                                                                    {
                                                                                        "name": "type",
                                                                                        "type": "udt",
                                                                                        "label": "Data structure"
                                                                                    }
                                                                                ],
                                                                                "expect": [
                                                                                    {
                                                                                        "name": "json",
                                                                                        "type": "text",
                                                                                        "label": "JSON string",
                                                                                        "required": true
                                                                                    }
                                                                                ],
                                                                                "interface": [
                                                                                    {
                                                                                        "name": "InvoiceNumber",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineNumber",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTotalValue",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineNotes",
                                                                                        "type": "text",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false,
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineOrderType",
                                                                                        "type": "text",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false,
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineNetAmount",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineCalcTax1Amount",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineCalcTax2Amount",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTotalRoundedAmount",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTotalUnRoundedAmount",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTax1ID",
                                                                                        "type": "text",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false,
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTax2ID",
                                                                                        "type": "text",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false,
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTaxIDCount",
                                                                                        "type": "number",
                                                                                        "label": null,
                                                                                        "default": 0,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTaxIncludedInPrice",
                                                                                        "type": "boolean",
                                                                                        "label": null,
                                                                                        "default": false,
                                                                                        "required": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineTaxIDArray",
                                                                                        "spec": {
                                                                                            "type": "text",
                                                                                            "default": null,
                                                                                            "required": false,
                                                                                            "multiline": false
                                                                                        },
                                                                                        "type": "array",
                                                                                        "label": null
                                                                                    },
                                                                                    {
                                                                                        "name": "LineQBIncomeAccount",
                                                                                        "type": "text",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false,
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineQBInvItem",
                                                                                        "type": "text",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false,
                                                                                        "multiline": false
                                                                                    },
                                                                                    {
                                                                                        "name": "LineQBClass",
                                                                                        "type": "text",
                                                                                        "label": null,
                                                                                        "default": null,
                                                                                        "required": false,
                                                                                        "multiline": false
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 76,
                                                                            "module": "builtin:BasicAggregator",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "feeder": 74
                                                                            },
                                                                            "mapper": {
                                                                                "LineNotes": "{{74.LineNotes}}",
                                                                                "LineNumber": "{{74.LineNumber}}",
                                                                                "LineTax1ID": "{{74.LineTax1ID}}",
                                                                                "LineTax2ID": "{{74.LineTax2ID}}",
                                                                                "LineQBClass": "{{74.LineQBClass}}",
                                                                                "InvoiceNumber": "{{74.InvoiceNumber}}",
                                                                                "LineNetAmount": "{{74.LineNetAmount}}",
                                                                                "LineOrderType": "{{74.LineOrderType}}",
                                                                                "LineQBInvItem": "{{74.LineQBInvItem}}",
                                                                                "LineTaxIDArray": "{{74.LineTaxIDArray}}",
                                                                                "LineTaxIDCount": "{{74.LineTaxIDCount}}",
                                                                                "LineTotalValue": "{{74.LineTotalValue}}",
                                                                                "LineCalcTax1Amount": "{{74.LineCalcTax1Amount}}",
                                                                                "LineCalcTax2Amount": "{{74.LineCalcTax2Amount}}",
                                                                                "LineQBIncomeAccount": "{{74.LineQBIncomeAccount}}",
                                                                                "LineTaxIncludedInPrice": "{{74.LineTaxIncludedInPrice}}",
                                                                                "LineTotalRoundedAmount": "{{74.LineTotalRoundedAmount}}",
                                                                                "LineTotalUnRoundedAmount": "{{74.LineTotalUnRoundedAmount}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 7800,
                                                                                    "y": 1350,
                                                                                    "name": "Transformed Invoice Lines"
                                                                                },
                                                                                "restore": {
                                                                                    "feeder": {
                                                                                        "label": "JSON - Parse JSON [74]"
                                                                                    },
                                                                                    "mapper": {
                                                                                        "label": [
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null,
                                                                                            null
                                                                                        ]
                                                                                    },
                                                                                    "target": {
                                                                                        "label": "Custom"
                                                                                    }
                                                                                },
                                                                                "advanced": true
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 147,
                                                                            "module": "builtin:BasicRouter",
                                                                            "version": 1,
                                                                            "mapper": null,
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 8100,
                                                                                    "y": 1350
                                                                                }
                                                                            },
                                                                            "routes": [
                                                                                {
                                                                                    "flow": [
                                                                                        {
                                                                                            "id": 56,
                                                                                            "module": "util:SetVariables",
                                                                                            "version": 1,
                                                                                            "parameters": {},
                                                                                            "filter": {
                                                                                                "name": "Old US QB Desktop Logic",
                                                                                                "conditions": [
                                                                                                    [
                                                                                                        {
                                                                                                            "a": "{{22.`QB Version`.`QB Country`}}",
                                                                                                            "b": "US",
                                                                                                            "o": "text:contain:ci"
                                                                                                        },
                                                                                                        {
                                                                                                            "a": "{{22.`QB Version`.`QB Platform`}}",
                                                                                                            "b": "Desktop",
                                                                                                            "o": "text:contain:ci"
                                                                                                        }
                                                                                                    ]
                                                                                                ]
                                                                                            },
                                                                                            "mapper": {
                                                                                                "scope": "roundtrip",
                                                                                                "variables": [
                                                                                                    {
                                                                                                        "name": "InvoiceLineCount",
                                                                                                        "value": "{{length(55.OrderDetails)}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Line1Tax1",
                                                                                                        "value": "{{55.OrderDetails[].Taxes.Tax1.PublicId}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Line1Tax2",
                                                                                                        "value": "{{55.OrderDetails[].Taxes.Tax2.PublicId}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "InvoiceTax1Array",
                                                                                                        "value": "{{map(55.OrderDetails; \"Taxes.Tax1.PublicId\")}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "InvoiceTax2Array",
                                                                                                        "value": "{{map(55.OrderDetails; \"Taxes.Tax2.PublicId\")}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Tax1NonNullCount",
                                                                                                        "value": "{{length(remove(map(55.OrderDetails; \"Taxes.Tax1.Name\"); null))}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Tax2NonNullCount",
                                                                                                        "value": "{{length(remove(map(55.OrderDetails; \"Taxes.Tax2.Name\"); null))}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "MultiTaxLines",
                                                                                                        "value": "{{contains(map(76.array; \"LineTaxIDCount\"); 2)}}"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "TaxIDsUsed",
                                                                                                        "value": "{{remove(distinct(merge(map(76.array; \"LineTax1ID\"); map(76.array; \"LineTax2ID\"))); empty)}}"
                                                                                                    }
                                                                                                ]
                                                                                            },
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 8400,
                                                                                                    "y": 900,
                                                                                                    "name": "Classify Inv Tax Types"
                                                                                                },
                                                                                                "restore": {
                                                                                                    "scope": {
                                                                                                        "label": "One cycle"
                                                                                                    },
                                                                                                    "variables": {
                                                                                                        "items": [
                                                                                                            "undefined",
                                                                                                            "undefined",
                                                                                                            "undefined",
                                                                                                            "undefined",
                                                                                                            "undefined",
                                                                                                            "undefined",
                                                                                                            "undefined",
                                                                                                            "undefined",
                                                                                                            "undefined"
                                                                                                        ]
                                                                                                    }
                                                                                                },
                                                                                                "expect": [
                                                                                                    {
                                                                                                        "name": "variables",
                                                                                                        "spec": [
                                                                                                            {
                                                                                                                "name": "name",
                                                                                                                "type": "text",
                                                                                                                "label": "Variable name",
                                                                                                                "required": true
                                                                                                            },
                                                                                                            {
                                                                                                                "name": "value",
                                                                                                                "type": "any",
                                                                                                                "label": "Variable value"
                                                                                                            }
                                                                                                        ],
                                                                                                        "type": "array",
                                                                                                        "label": "Variables"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "scope",
                                                                                                        "type": "select",
                                                                                                        "label": "Variable lifetime",
                                                                                                        "required": true,
                                                                                                        "validate": {
                                                                                                            "enum": [
                                                                                                                "roundtrip",
                                                                                                                "execution"
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                ],
                                                                                                "interface": [
                                                                                                    {
                                                                                                        "name": "InvoiceLineCount",
                                                                                                        "type": "any",
                                                                                                        "label": "InvoiceLineCount"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Line1Tax1",
                                                                                                        "type": "any",
                                                                                                        "label": "Line1Tax1"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Line1Tax2",
                                                                                                        "type": "any",
                                                                                                        "label": "Line1Tax2"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "InvoiceTax1Array",
                                                                                                        "type": "any",
                                                                                                        "label": "InvoiceTax1Array"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "InvoiceTax2Array",
                                                                                                        "type": "any",
                                                                                                        "label": "InvoiceTax2Array"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Tax1NonNullCount",
                                                                                                        "type": "any",
                                                                                                        "label": "Tax1NonNullCount"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "Tax2NonNullCount",
                                                                                                        "type": "any",
                                                                                                        "label": "Tax2NonNullCount"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "MultiTaxLines",
                                                                                                        "type": "any",
                                                                                                        "label": "MultiTaxLines"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "TaxIDsUsed",
                                                                                                        "type": "any",
                                                                                                        "label": "TaxIDsUsed"
                                                                                                    }
                                                                                                ]
                                                                                            }
                                                                                        },
                                                                                        {
                                                                                            "id": 57,
                                                                                            "module": "builtin:BasicRouter",
                                                                                            "version": 1,
                                                                                            "parameters": {
                                                                                                "else": 0
                                                                                            },
                                                                                            "mapper": null,
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 8700,
                                                                                                    "y": 900
                                                                                                }
                                                                                            },
                                                                                            "routes": [
                                                                                                {
                                                                                                    "flow": [
                                                                                                        {
                                                                                                            "id": 91,
                                                                                                            "module": "builtin:BasicFeeder",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "filter": {
                                                                                                                "name": "Same taxes on all lines - single tax or untaxed",
                                                                                                                "conditions": [
                                                                                                                    [
                                                                                                                        {
                                                                                                                            "a": "{{length(56.TaxIDsUsed)}}",
                                                                                                                            "b": "1",
                                                                                                                            "o": "number:lessorequal"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                ]
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "array": "{{76.array}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9000,
                                                                                                                    "y": 300
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "array": {
                                                                                                                        "mode": "edit"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "mode": "edit",
                                                                                                                        "name": "array",
                                                                                                                        "spec": [],
                                                                                                                        "type": "array",
                                                                                                                        "label": "Array"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 92,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(91.InvoiceNumber)}}.{{toString(91.`__IMTINDEX__`)}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "{{91.LineNetAmount * -1}}",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "-1",
                                                                                                                    "col13": "{{91.LineNetAmount}}",
                                                                                                                    "col14": "",
                                                                                                                    "col15": "Y",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "NOTHING",
                                                                                                                    "col18": "",
                                                                                                                    "sortID": "{{toString(91.InvoiceNumber)}}.{{toString(91.`__IMTINDEX__`)}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9300,
                                                                                                                    "y": 300,
                                                                                                                    "name": "Add Inv SPL Sales Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 97,
                                                                                                            "module": "builtin:BasicAggregator",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "feeder": 91
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "{{92.key}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9600,
                                                                                                                    "y": 300
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "feeder": {
                                                                                                                        "label": "Iterator [91]"
                                                                                                                    },
                                                                                                                    "mapper": {
                                                                                                                        "label": [
                                                                                                                            null
                                                                                                                        ]
                                                                                                                    },
                                                                                                                    "target": {
                                                                                                                        "label": "Custom"
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 98,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(length(97.array + 1))}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Account\"; \"Sales Tax ID\"; join(56.TaxIDsUsed; \",\")); \",\")}}",
                                                                                                                    "col06": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Agency Name\"; \"Sales Tax ID\"; join(56.TaxIDsUsed; \",\")); \",\")}}",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "{{sum(map(76.array; \"LineCalcTax1Amount\")) + sum(map(76.array; \"LineCalcTax2Amount\"))}}",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Rate\"; \"Sales Tax ID\"; join(56.TaxIDsUsed; \",\")); \",\")}}%",
                                                                                                                    "col14": "{{join(56.TaxIDsUsed; \",\")}}",
                                                                                                                    "col15": "N",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "NOTHING",
                                                                                                                    "col18": "AUTOSTAX",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(97.array + 1))}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9900,
                                                                                                                    "y": 300,
                                                                                                                    "name": "Add Inv SPL Tax Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 99,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "ENDTRNS",
                                                                                                                    "col02": "",
                                                                                                                    "col03": "",
                                                                                                                    "col04": "",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "",
                                                                                                                    "col14": "",
                                                                                                                    "col15": "",
                                                                                                                    "col16": "",
                                                                                                                    "col17": "",
                                                                                                                    "col18": "",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(97.array + 2))}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 10200,
                                                                                                                    "y": 300,
                                                                                                                    "name": "Add ENDTRNS Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "flow": [
                                                                                                        {
                                                                                                            "id": 110,
                                                                                                            "module": "builtin:BasicFeeder",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "filter": {
                                                                                                                "name": "Same taxes on all lines - two taxes (use tax group)",
                                                                                                                "conditions": [
                                                                                                                    [
                                                                                                                        {
                                                                                                                            "a": "{{56.MultiTaxLines}}",
                                                                                                                            "b": "{{true}}",
                                                                                                                            "o": "boolean:equal"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "a": "{{length(56.TaxIDsUsed)}}",
                                                                                                                            "b": "2",
                                                                                                                            "o": "number:equal"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "a": "{{(length(remove(56.InvoiceTax1Array; empty)) + length(remove(56.InvoiceTax2Array; empty))) / \"2 \" - floor((length(remove(56.InvoiceTax1Array; empty)) + length(remove(56.InvoiceTax2Array; empty))) / 2)}}",
                                                                                                                            "b": "0",
                                                                                                                            "o": "number:equal"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                ]
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "array": "{{76.array}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9000,
                                                                                                                    "y": 750
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "array": {
                                                                                                                        "mode": "edit"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "mode": "edit",
                                                                                                                        "name": "array",
                                                                                                                        "spec": [],
                                                                                                                        "type": "array",
                                                                                                                        "label": "Array"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 111,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(110.InvoiceNumber)}}.{{toString(110.`__IMTINDEX__`)}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "{{110.LineNetAmount * -1}}",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "-1",
                                                                                                                    "col13": "{{110.LineNetAmount}}",
                                                                                                                    "col14": "",
                                                                                                                    "col15": "Y",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "NOTHING",
                                                                                                                    "col18": "",
                                                                                                                    "sortID": "{{toString(110.InvoiceNumber)}}.{{toString(110.`__IMTINDEX__`)}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9300,
                                                                                                                    "y": 750,
                                                                                                                    "name": "Add Inv SPL Sales Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 112,
                                                                                                            "module": "builtin:BasicAggregator",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "feeder": 110
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "{{111.key}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9600,
                                                                                                                    "y": 750
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "feeder": {
                                                                                                                        "label": "Iterator [110]"
                                                                                                                    },
                                                                                                                    "mapper": {
                                                                                                                        "label": [
                                                                                                                            null
                                                                                                                        ]
                                                                                                                    },
                                                                                                                    "target": {
                                                                                                                        "label": "Custom"
                                                                                                                    }
                                                                                                                },
                                                                                                                "advanced": true
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 127,
                                                                                                            "module": "builtin:BasicFeeder",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "mapper": {
                                                                                                                "array": "{{22.`Sales Tax Groups`}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9900,
                                                                                                                    "y": 750
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "array": {
                                                                                                                        "mode": "edit"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "mode": "edit",
                                                                                                                        "name": "array",
                                                                                                                        "spec": [],
                                                                                                                        "type": "array",
                                                                                                                        "label": "Array"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 129,
                                                                                                            "module": "util:SetVariable2",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "mapper": {
                                                                                                                "name": "TaxGroupUsed",
                                                                                                                "scope": "roundtrip",
                                                                                                                "value": "{{if(contains(127.`Tax IDs`; get(56.TaxIDsUsed; 1)) & contains(127.`Tax IDs`; get(56.TaxIDsUsed; 2)); 127.`Sales Tax Group ID`; null)}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 10200,
                                                                                                                    "y": 750,
                                                                                                                    "name": "Find Matching Tax Group"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "scope": {
                                                                                                                        "label": "One cycle"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "name",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Variable name",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "scope",
                                                                                                                        "type": "select",
                                                                                                                        "label": "Variable lifetime",
                                                                                                                        "required": true,
                                                                                                                        "validate": {
                                                                                                                            "enum": [
                                                                                                                                "roundtrip",
                                                                                                                                "execution"
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "value",
                                                                                                                        "type": "any",
                                                                                                                        "label": "Variable value"
                                                                                                                    }
                                                                                                                ],
                                                                                                                "interface": [
                                                                                                                    {
                                                                                                                        "name": "TaxGroupUsed",
                                                                                                                        "type": "any",
                                                                                                                        "label": "TaxGroupUsed"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 130,
                                                                                                            "module": "builtin:BasicAggregator",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "feeder": 127
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "TaxGroupUsed": "{{129.TaxGroupUsed}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 10500,
                                                                                                                    "y": 750
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "feeder": {
                                                                                                                        "label": "Iterator [127]"
                                                                                                                    },
                                                                                                                    "mapper": {
                                                                                                                        "label": [
                                                                                                                            null
                                                                                                                        ]
                                                                                                                    },
                                                                                                                    "target": {
                                                                                                                        "label": "Custom"
                                                                                                                    }
                                                                                                                },
                                                                                                                "advanced": true
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 133,
                                                                                                            "module": "util:SetVariable2",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "mapper": {
                                                                                                                "name": "TaxGroupID",
                                                                                                                "scope": "roundtrip",
                                                                                                                "value": "{{join(map(130.array; \"TaxGroupUsed\"); \",\")}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 10800,
                                                                                                                    "y": 750,
                                                                                                                    "name": "Set Tax Group String"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "scope": {
                                                                                                                        "label": "One cycle"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "name",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Variable name",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "scope",
                                                                                                                        "type": "select",
                                                                                                                        "label": "Variable lifetime",
                                                                                                                        "required": true,
                                                                                                                        "validate": {
                                                                                                                            "enum": [
                                                                                                                                "roundtrip",
                                                                                                                                "execution"
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "value",
                                                                                                                        "type": "any",
                                                                                                                        "label": "Variable value"
                                                                                                                    }
                                                                                                                ],
                                                                                                                "interface": [
                                                                                                                    {
                                                                                                                        "name": "TaxGroupID",
                                                                                                                        "type": "any",
                                                                                                                        "label": "TaxGroupID"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 125,
                                                                                                            "module": "builtin:BasicRouter",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "else": 0
                                                                                                            },
                                                                                                            "mapper": null,
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 11100,
                                                                                                                    "y": 750
                                                                                                                }
                                                                                                            },
                                                                                                            "routes": [
                                                                                                                {
                                                                                                                    "flow": [
                                                                                                                        {
                                                                                                                            "id": 132,
                                                                                                                            "module": "datastore:AddRecord",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {
                                                                                                                                "datastore": 24064
                                                                                                                            },
                                                                                                                            "filter": {
                                                                                                                                "name": "Tax Group Found",
                                                                                                                                "conditions": [
                                                                                                                                    [
                                                                                                                                        {
                                                                                                                                            "a": "{{130.`__IMTAGGLENGTH__`}}",
                                                                                                                                            "b": "0",
                                                                                                                                            "o": "number:greater"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "a": "{{130.array[].TaxGroupUsed}}",
                                                                                                                                            "b": "{{null}}",
                                                                                                                                            "o": "text:notequal"
                                                                                                                                        }
                                                                                                                                    ]
                                                                                                                                ]
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "key": "",
                                                                                                                                "data": {
                                                                                                                                    "col01": "SPL",
                                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(length(112.array + 1))}}",
                                                                                                                                    "col03": "INVOICE",
                                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                                    "col05": "{{join(map(22.`Sales Tax Groups`; \"Sales Tax Group Account\"; \"Sales Tax Group ID\"; 133.TaxGroupID); \",\")}}",
                                                                                                                                    "col06": "{{join(map(22.`Sales Tax Groups`; \"Sales Tax Group Agency Name\"; \"Sales Tax Group ID\"; 133.TaxGroupID); \",\")}}",
                                                                                                                                    "col07": "",
                                                                                                                                    "col08": "0",
                                                                                                                                    "col09": "",
                                                                                                                                    "col10": "",
                                                                                                                                    "col11": "N",
                                                                                                                                    "col12": "",
                                                                                                                                    "col13": "0%",
                                                                                                                                    "col14": "{{133.TaxGroupID}}",
                                                                                                                                    "col15": "N",
                                                                                                                                    "col16": "N",
                                                                                                                                    "col17": "NOTHING",
                                                                                                                                    "col18": "AUTOSTAX",
                                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(112.array + 1))}}"
                                                                                                                                },
                                                                                                                                "overwrite": false
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 11400,
                                                                                                                                    "y": 600,
                                                                                                                                    "name": "Add Inv SPL Tax Group Line"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "datastore": {
                                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                                    },
                                                                                                                                    "overwrite": {
                                                                                                                                        "mode": "chose"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "parameters": [
                                                                                                                                    {
                                                                                                                                        "name": "datastore",
                                                                                                                                        "type": "datastore",
                                                                                                                                        "label": "Data store",
                                                                                                                                        "required": true
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "key",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Key"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "overwrite",
                                                                                                                                        "type": "boolean",
                                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "data",
                                                                                                                                        "spec": [
                                                                                                                                            {
                                                                                                                                                "name": "sortID",
                                                                                                                                                "type": "number"
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col01",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col02",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col03",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col04",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col05",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col06",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col07",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col08",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col09",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col10",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col11",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col12",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col13",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col14",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col15",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col16",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col17",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col18",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            }
                                                                                                                                        ],
                                                                                                                                        "type": "collection",
                                                                                                                                        "label": "Record"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "id": 134,
                                                                                                                            "module": "datastore:AddRecord",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {
                                                                                                                                "datastore": 24064
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "key": "",
                                                                                                                                "data": {
                                                                                                                                    "col01": "SPL",
                                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(length(112.array + 2))}}",
                                                                                                                                    "col03": "INVOICE",
                                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                                    "col05": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Account\"; \"Sales Tax ID\"; 56.TaxIDsUsed[]); \",\")}}",
                                                                                                                                    "col06": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Agency Name\"; \"Sales Tax ID\"; 56.TaxIDsUsed[1]); \",\")}}",
                                                                                                                                    "col07": "",
                                                                                                                                    "col08": "{{sum(map(76.array; \"LineCalcTax1Amount\"; \"LineTax1ID\"; 56.TaxIDsUsed[])) + sum(map(76.array; \"LineCalcTax2Amount\"; \"LineTax2ID\"; 56.TaxIDsUsed[]))}}",
                                                                                                                                    "col09": "",
                                                                                                                                    "col10": "",
                                                                                                                                    "col11": "N",
                                                                                                                                    "col12": "",
                                                                                                                                    "col13": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Rate\"; \"Sales Tax ID\"; 56.TaxIDsUsed[]); \",\")}}%",
                                                                                                                                    "col14": "{{56.TaxIDsUsed[]}}",
                                                                                                                                    "col15": "N",
                                                                                                                                    "col16": "N",
                                                                                                                                    "col17": "NOTHING",
                                                                                                                                    "col18": "AUTOSTAX",
                                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(112.array + 2))}}"
                                                                                                                                },
                                                                                                                                "overwrite": false
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 11700,
                                                                                                                                    "y": 600,
                                                                                                                                    "name": "Add Inv SPL Tax1 Line"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "datastore": {
                                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                                    },
                                                                                                                                    "overwrite": {
                                                                                                                                        "mode": "chose"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "parameters": [
                                                                                                                                    {
                                                                                                                                        "name": "datastore",
                                                                                                                                        "type": "datastore",
                                                                                                                                        "label": "Data store",
                                                                                                                                        "required": true
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "key",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Key"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "overwrite",
                                                                                                                                        "type": "boolean",
                                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "data",
                                                                                                                                        "spec": [
                                                                                                                                            {
                                                                                                                                                "name": "sortID",
                                                                                                                                                "type": "number"
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col01",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col02",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col03",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col04",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col05",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col06",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col07",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col08",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col09",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col10",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col11",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col12",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col13",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col14",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col15",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col16",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col17",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col18",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            }
                                                                                                                                        ],
                                                                                                                                        "type": "collection",
                                                                                                                                        "label": "Record"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "id": 135,
                                                                                                                            "module": "datastore:AddRecord",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {
                                                                                                                                "datastore": 24064
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "key": "",
                                                                                                                                "data": {
                                                                                                                                    "col01": "SPL",
                                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(length(112.array + 3))}}",
                                                                                                                                    "col03": "INVOICE",
                                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                                    "col05": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Account\"; \"Sales Tax ID\"; 56.TaxIDsUsed[2]); \",\")}}",
                                                                                                                                    "col06": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Agency Name\"; \"Sales Tax ID\"; 56.TaxIDsUsed[2]); \",\")}}",
                                                                                                                                    "col07": "",
                                                                                                                                    "col08": "{{sum(map(76.array; \"LineCalcTax1Amount\"; \"LineTax1ID\"; 56.TaxIDsUsed[2])) + sum(map(76.array; \"LineCalcTax2Amount\"; \"LineTax2ID\"; 56.TaxIDsUsed[2]))}}",
                                                                                                                                    "col09": "",
                                                                                                                                    "col10": "",
                                                                                                                                    "col11": "N",
                                                                                                                                    "col12": "",
                                                                                                                                    "col13": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Rate\"; \"Sales Tax ID\"; 56.TaxIDsUsed[2]); \",\")}}%",
                                                                                                                                    "col14": "{{56.TaxIDsUsed[2]}}",
                                                                                                                                    "col15": "N",
                                                                                                                                    "col16": "N",
                                                                                                                                    "col17": "NOTHING",
                                                                                                                                    "col18": "AUTOSTAX",
                                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(112.array + 3))}}"
                                                                                                                                },
                                                                                                                                "overwrite": false
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 12000,
                                                                                                                                    "y": 600,
                                                                                                                                    "name": "Add Inv SPL Tax2 Line"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "datastore": {
                                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                                    },
                                                                                                                                    "overwrite": {
                                                                                                                                        "mode": "chose"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "parameters": [
                                                                                                                                    {
                                                                                                                                        "name": "datastore",
                                                                                                                                        "type": "datastore",
                                                                                                                                        "label": "Data store",
                                                                                                                                        "required": true
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "key",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Key"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "overwrite",
                                                                                                                                        "type": "boolean",
                                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "data",
                                                                                                                                        "spec": [
                                                                                                                                            {
                                                                                                                                                "name": "sortID",
                                                                                                                                                "type": "number"
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col01",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col02",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col03",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col04",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col05",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col06",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col07",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col08",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col09",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col10",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col11",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col12",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col13",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col14",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col15",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col16",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col17",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col18",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            }
                                                                                                                                        ],
                                                                                                                                        "type": "collection",
                                                                                                                                        "label": "Record"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "id": 136,
                                                                                                                            "module": "datastore:AddRecord",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {
                                                                                                                                "datastore": 24064
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "key": "",
                                                                                                                                "data": {
                                                                                                                                    "col01": "ENDTRNS",
                                                                                                                                    "col02": "",
                                                                                                                                    "col03": "",
                                                                                                                                    "col04": "",
                                                                                                                                    "col05": "",
                                                                                                                                    "col06": "",
                                                                                                                                    "col07": "",
                                                                                                                                    "col08": "",
                                                                                                                                    "col09": "",
                                                                                                                                    "col10": "",
                                                                                                                                    "col11": "",
                                                                                                                                    "col12": "",
                                                                                                                                    "col13": "",
                                                                                                                                    "col14": "",
                                                                                                                                    "col15": "",
                                                                                                                                    "col16": "",
                                                                                                                                    "col17": "",
                                                                                                                                    "col18": "",
                                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(112.array + 4))}}"
                                                                                                                                },
                                                                                                                                "overwrite": false
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 12300,
                                                                                                                                    "y": 600,
                                                                                                                                    "name": "Add ENDTRNS Line"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "datastore": {
                                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                                    },
                                                                                                                                    "overwrite": {
                                                                                                                                        "mode": "chose"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "parameters": [
                                                                                                                                    {
                                                                                                                                        "name": "datastore",
                                                                                                                                        "type": "datastore",
                                                                                                                                        "label": "Data store",
                                                                                                                                        "required": true
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "key",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Key"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "overwrite",
                                                                                                                                        "type": "boolean",
                                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "data",
                                                                                                                                        "spec": [
                                                                                                                                            {
                                                                                                                                                "name": "sortID",
                                                                                                                                                "type": "number"
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col01",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col02",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col03",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col04",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col05",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col06",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col07",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col08",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col09",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col10",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col11",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col12",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col13",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col14",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col15",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col16",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col17",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col18",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            }
                                                                                                                                        ],
                                                                                                                                        "type": "collection",
                                                                                                                                        "label": "Record"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "flow": [
                                                                                                                        {
                                                                                                                            "id": 131,
                                                                                                                            "module": "util:SetVariable2",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {},
                                                                                                                            "filter": {
                                                                                                                                "name": "No Tax Group Found",
                                                                                                                                "conditions": []
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "name": "Branch",
                                                                                                                                "scope": "roundtrip",
                                                                                                                                "value": "Error Path Placeholder"
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 11400,
                                                                                                                                    "y": 900
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "scope": {
                                                                                                                                        "label": "One cycle"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "name",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Variable name",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "scope",
                                                                                                                                        "type": "select",
                                                                                                                                        "label": "Variable lifetime",
                                                                                                                                        "required": true,
                                                                                                                                        "validate": {
                                                                                                                                            "enum": [
                                                                                                                                                "roundtrip",
                                                                                                                                                "execution"
                                                                                                                                            ]
                                                                                                                                        }
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "value",
                                                                                                                                        "type": "any",
                                                                                                                                        "label": "Variable value"
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "interface": [
                                                                                                                                    {
                                                                                                                                        "name": "Branch",
                                                                                                                                        "type": "any",
                                                                                                                                        "label": "Branch"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "flow": [
                                                                                                        {
                                                                                                            "id": 137,
                                                                                                            "module": "builtin:BasicFeeder",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "filter": {
                                                                                                                "name": "Different taxes per line - single taxes (use subtotals)",
                                                                                                                "conditions": [
                                                                                                                    [
                                                                                                                        {
                                                                                                                            "a": "{{56.MultiTaxLines}}",
                                                                                                                            "b": "{{false}}",
                                                                                                                            "o": "text:equal"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "a": "{{length(56.TaxIDsUsed)}}",
                                                                                                                            "b": "1",
                                                                                                                            "o": "number:greater"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                ]
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "array": "{{56.TaxIDsUsed}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9000,
                                                                                                                    "y": 1200
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "array": {
                                                                                                                        "mode": "edit"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "mode": "edit",
                                                                                                                        "name": "array",
                                                                                                                        "spec": [],
                                                                                                                        "type": "array",
                                                                                                                        "label": "Array"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 138,
                                                                                                            "module": "builtin:BasicFeeder",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "mapper": {
                                                                                                                "array": "{{76.array}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9300,
                                                                                                                    "y": 1200
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "array": {
                                                                                                                        "mode": "edit"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "mode": "edit",
                                                                                                                        "name": "array",
                                                                                                                        "spec": [],
                                                                                                                        "type": "array",
                                                                                                                        "label": "Array"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 139,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "filter": {
                                                                                                                "name": "Use Sales Line with matching Tax",
                                                                                                                "conditions": [
                                                                                                                    [
                                                                                                                        {
                                                                                                                            "a": "{{138.LineTax1ID}}",
                                                                                                                            "b": "{{137.value}}",
                                                                                                                            "o": "text:equal"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    [
                                                                                                                        {
                                                                                                                            "a": "{{138.LineTax2ID}}",
                                                                                                                            "b": "{{137.value}}",
                                                                                                                            "o": "text:equal"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                ]
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString((137.`__IMTINDEX__` - 1) * 137.`__IMTLENGTH__` * 138.`__IMTINDEX__`)}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "{{138.LineNetAmount * -1}}",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "-1",
                                                                                                                    "col13": "{{138.LineNetAmount}}",
                                                                                                                    "col14": "",
                                                                                                                    "col15": "Y",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "NOTHING",
                                                                                                                    "col18": "",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString((137.`__IMTINDEX__` - 1) * 137.`__IMTLENGTH__` * 138.`__IMTINDEX__`)}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9600,
                                                                                                                    "y": 1200,
                                                                                                                    "name": "Add Inv SPL Sales Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 140,
                                                                                                            "module": "builtin:BasicAggregator",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "feeder": 138
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "{{139.key}}",
                                                                                                                "LineCalcTax1Amount": "{{138.LineCalcTax1Amount}}",
                                                                                                                "LineCalcTax2Amount": "{{138.LineCalcTax2Amount}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9900,
                                                                                                                    "y": 1200
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "feeder": {
                                                                                                                        "label": "Iterator [138]"
                                                                                                                    },
                                                                                                                    "mapper": {
                                                                                                                        "label": [
                                                                                                                            null,
                                                                                                                            null,
                                                                                                                            null
                                                                                                                        ]
                                                                                                                    },
                                                                                                                    "target": {
                                                                                                                        "label": "Custom"
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 143,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(137.`__IMTINDEX__` * length(76.array + 1))}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "{{sum(map(76.array; \"LineNetAmount\"))}}",
                                                                                                                    "col14": "{{22.`Subtotal List Name`}}",
                                                                                                                    "col15": "N",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "NOTHING",
                                                                                                                    "col18": "",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(137.`__IMTINDEX__` * length(76.array + 1))}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 10200,
                                                                                                                    "y": 1200,
                                                                                                                    "name": "Add Inv SPL Subtotal"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 141,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(137.`__IMTINDEX__` * length(76.array + 2))}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Account\"; \"Sales Tax ID\"; 137.value); \",\")}}",
                                                                                                                    "col06": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Agency Name\"; \"Sales Tax ID\"; 137.value); \",\")}}",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "{{sum(map(140.array; \"LineCalcTax1Amount\")) + sum(map(140.array; \"LineCalcTax2Amount\"))}}",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Rate\"; \"Sales Tax ID\"; 137.value); \",\")}}%",
                                                                                                                    "col14": "{{137.value}}",
                                                                                                                    "col15": "N",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "NOTHING",
                                                                                                                    "col18": "AUTOSTAX",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(137.`__IMTINDEX__` * length(76.array + 2))}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 10500,
                                                                                                                    "y": 1200,
                                                                                                                    "name": "Add Inv SPL Tax Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 142,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(137.`__IMTINDEX__` * length(76.array + 3))}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "",
                                                                                                                    "col14": "",
                                                                                                                    "col15": "N",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "",
                                                                                                                    "col18": "ENDGRP",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(137.`__IMTINDEX__` * length(76.array + 3))}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 10800,
                                                                                                                    "y": 1200,
                                                                                                                    "name": "Add Inv SPL spacer"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 144,
                                                                                                            "module": "builtin:BasicAggregator",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "feeder": 137
                                                                                                            },
                                                                                                            "mapper": {},
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 11100,
                                                                                                                    "y": 1200
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "feeder": {
                                                                                                                        "label": "Iterator [137]"
                                                                                                                    },
                                                                                                                    "target": {
                                                                                                                        "label": "Custom"
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 145,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "SPL",
                                                                                                                    "col02": "{{toString(55.Id)}}.{{toString(length(56.TaxIDsUsed) * length(76.array) * 2)}}",
                                                                                                                    "col03": "INVOICE",
                                                                                                                    "col04": "{{formatDate(55.DocumentDate; replace(replace(24.Localization.DateFormat; \"y\"; \"Y\"); \"m\"; \"M\"))}}",
                                                                                                                    "col05": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Account\"; \"Sales Tax ID\"; \"NoTax\"); \",\")}}",
                                                                                                                    "col06": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Agency Name\"; \"Sales Tax ID\"; \"NoTax\"); \",\")}}",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "0",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "N",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "{{join(map(22.`Sales Tax Types`; \"Sales Tax Rate\"; \"Sales Tax ID\"; \"NoTax\"); \",\")}}%",
                                                                                                                    "col14": "NoTax",
                                                                                                                    "col15": "N",
                                                                                                                    "col16": "N",
                                                                                                                    "col17": "NOTHING",
                                                                                                                    "col18": "AUTOSTAX",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(56.TaxIDsUsed) * length(76.array) * 2)}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 11400,
                                                                                                                    "y": 1200,
                                                                                                                    "name": "Add Inv SPL NoTax Footer"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 146,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "ENDTRNS",
                                                                                                                    "col02": "",
                                                                                                                    "col03": "",
                                                                                                                    "col04": "",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "",
                                                                                                                    "col14": "",
                                                                                                                    "col15": "",
                                                                                                                    "col16": "",
                                                                                                                    "col17": "",
                                                                                                                    "col18": "",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(56.TaxIDsUsed) * length(76.array) * 2 + 1)}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 11700,
                                                                                                                    "y": 1200,
                                                                                                                    "name": "Add ENDTRNS Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "flow": [
                                                                                                        {
                                                                                                            "id": 80,
                                                                                                            "module": "util:SetVariable2",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "filter": {
                                                                                                                "name": "Invalid for QB (need to edit invoice)",
                                                                                                                "conditions": []
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "name": "Branch",
                                                                                                                "scope": "roundtrip",
                                                                                                                "value": "fallback"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9000,
                                                                                                                    "y": 1500,
                                                                                                                    "name": "Add email module-Warning-incompatible WA invoice"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "scope": {
                                                                                                                        "label": "One cycle"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "name",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Variable name",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "scope",
                                                                                                                        "type": "select",
                                                                                                                        "label": "Variable lifetime",
                                                                                                                        "required": true,
                                                                                                                        "validate": {
                                                                                                                            "enum": [
                                                                                                                                "roundtrip",
                                                                                                                                "execution"
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "value",
                                                                                                                        "type": "any",
                                                                                                                        "label": "Variable value"
                                                                                                                    }
                                                                                                                ],
                                                                                                                "interface": [
                                                                                                                    {
                                                                                                                        "name": "Branch",
                                                                                                                        "type": "any",
                                                                                                                        "label": "Branch"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "flow": [
                                                                                        {
                                                                                            "id": 168,
                                                                                            "module": "builtin:BasicRouter",
                                                                                            "version": 1,
                                                                                            "filter": {
                                                                                                "name": "CAD QB Desktop Logic",
                                                                                                "conditions": [
                                                                                                    [
                                                                                                        {
                                                                                                            "a": "{{22.`QB Version`.`QB Country`}}",
                                                                                                            "b": "CAD",
                                                                                                            "o": "text:contain:ci"
                                                                                                        },
                                                                                                        {
                                                                                                            "a": "{{22.`QB Version`.`QB Platform`}}",
                                                                                                            "b": "Desktop",
                                                                                                            "o": "text:contain:ci"
                                                                                                        }
                                                                                                    ]
                                                                                                ]
                                                                                            },
                                                                                            "mapper": null,
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 8400,
                                                                                                    "y": 2100
                                                                                                }
                                                                                            },
                                                                                            "routes": [
                                                                                                {
                                                                                                    "flow": [
                                                                                                        {
                                                                                                            "id": 148,
                                                                                                            "module": "builtin:BasicFeeder",
                                                                                                            "version": 1,
                                                                                                            "parameters": {},
                                                                                                            "mapper": {
                                                                                                                "array": "{{76.array}}"
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 8700,
                                                                                                                    "y": 1950,
                                                                                                                    "name": "Iterate through line Items"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "array": {
                                                                                                                        "mode": "edit"
                                                                                                                    }
                                                                                                                },
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "mode": "edit",
                                                                                                                        "name": "array",
                                                                                                                        "spec": [],
                                                                                                                        "type": "array",
                                                                                                                        "label": "Array"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "id": 164,
                                                                                                            "module": "builtin:BasicRouter",
                                                                                                            "version": 1,
                                                                                                            "mapper": null,
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 9000,
                                                                                                                    "y": 1950
                                                                                                                }
                                                                                                            },
                                                                                                            "routes": [
                                                                                                                {
                                                                                                                    "flow": [
                                                                                                                        {
                                                                                                                            "id": 149,
                                                                                                                            "module": "datastore:AddRecord",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {
                                                                                                                                "datastore": 24064
                                                                                                                            },
                                                                                                                            "filter": {
                                                                                                                                "name": "Single or No Tax Line",
                                                                                                                                "conditions": [
                                                                                                                                    [
                                                                                                                                        {
                                                                                                                                            "a": "{{148.LineTaxIDCount}}",
                                                                                                                                            "b": "2",
                                                                                                                                            "o": "number:less"
                                                                                                                                        }
                                                                                                                                    ]
                                                                                                                                ]
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "key": "",
                                                                                                                                "data": {
                                                                                                                                    "col01": "SPL",
                                                                                                                                    "col02": "{{toString(148.InvoiceNumber)}}.{{toString(148.LineNumber)}}",
                                                                                                                                    "col03": "INVOICE",
                                                                                                                                    "col04": "{{formatDate(55.DocumentDate; \"YYYY-MM-DD\")}}",
                                                                                                                                    "col05": "{{148.LineQBIncomeAccount}}",
                                                                                                                                    "col06": "",
                                                                                                                                    "col07": "{{148.LineQBClass}}",
                                                                                                                                    "col08": "{{148.LineNetAmount * -1}}",
                                                                                                                                    "col09": "",
                                                                                                                                    "col10": "{{148.LineNotes}}",
                                                                                                                                    "col11": "N",
                                                                                                                                    "col12": "-1",
                                                                                                                                    "col13": "{{148.LineNetAmount}}",
                                                                                                                                    "col14": "{{148.LineQBInvItem}}",
                                                                                                                                    "col15": "{{if(148.LineTaxIDCount = 0; \"N\"; \"Y\")}}",
                                                                                                                                    "col16": "{{if(148.LineTaxIDCount = 0; null; get(map(22.`Sales Tax Types`; \"Sales Tax QB Code\"; \"Sales Tax Name\"; get(148.LineTaxIDArray; 1)); 1))}}",
                                                                                                                                    "col17": "N",
                                                                                                                                    "col18": "NOTHING",
                                                                                                                                    "col19": "",
                                                                                                                                    "col20": "",
                                                                                                                                    "col21": "",
                                                                                                                                    "col22": "",
                                                                                                                                    "col23": "",
                                                                                                                                    "col24": "",
                                                                                                                                    "col25": "",
                                                                                                                                    "sortID": "{{toString(148.InvoiceNumber)}}.{{toString(148.LineNumber)}}"
                                                                                                                                },
                                                                                                                                "overwrite": false
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 9300,
                                                                                                                                    "y": 1800,
                                                                                                                                    "name": "Add Inv SPL Sales Line - Single Tax Code"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "datastore": {
                                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                                    },
                                                                                                                                    "overwrite": {
                                                                                                                                        "mode": "chose"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "parameters": [
                                                                                                                                    {
                                                                                                                                        "name": "datastore",
                                                                                                                                        "type": "datastore",
                                                                                                                                        "label": "Data store",
                                                                                                                                        "required": true
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "key",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Key"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "overwrite",
                                                                                                                                        "type": "boolean",
                                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "data",
                                                                                                                                        "spec": [
                                                                                                                                            {
                                                                                                                                                "name": "sortID",
                                                                                                                                                "type": "number"
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col01",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col02",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col03",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col04",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col05",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col06",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col07",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col08",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col09",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col10",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col11",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col12",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col13",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col14",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col15",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col16",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col17",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col18",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col19",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col20",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col21",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col22",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col23",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col24",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col25",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            }
                                                                                                                                        ],
                                                                                                                                        "type": "collection",
                                                                                                                                        "label": "Record"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "flow": [
                                                                                                                        {
                                                                                                                            "id": 158,
                                                                                                                            "module": "builtin:BasicFeeder",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {},
                                                                                                                            "filter": {
                                                                                                                                "name": "Multi Tax Line",
                                                                                                                                "conditions": [
                                                                                                                                    [
                                                                                                                                        {
                                                                                                                                            "a": "{{148.LineTaxIDCount}}",
                                                                                                                                            "b": "2",
                                                                                                                                            "o": "number:equal"
                                                                                                                                        }
                                                                                                                                    ]
                                                                                                                                ]
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "array": "{{22.`Sales Tax Groups`}}"
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 9300,
                                                                                                                                    "y": 2100,
                                                                                                                                    "name": "Iterate thru Tax Group Config"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "array": {
                                                                                                                                        "mode": "edit"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "mode": "edit",
                                                                                                                                        "name": "array",
                                                                                                                                        "spec": [],
                                                                                                                                        "type": "array",
                                                                                                                                        "label": "Array"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "id": 159,
                                                                                                                            "module": "util:SetVariable2",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {},
                                                                                                                            "mapper": {
                                                                                                                                "name": "TaxGroupUsed",
                                                                                                                                "scope": "roundtrip",
                                                                                                                                "value": "{{if(contains(158.`WA Tax IDs`; get(148.LineTaxIDArray; 1)) & contains(158.`WA Tax IDs`; get(148.LineTaxIDArray; 2)); 158.`Sales Tax QB Group Code`; null)}}"
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 9600,
                                                                                                                                    "y": 2100,
                                                                                                                                    "name": "Set if Group contains correct codes"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "scope": {
                                                                                                                                        "label": "One cycle"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "name",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Variable name",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "scope",
                                                                                                                                        "type": "select",
                                                                                                                                        "label": "Variable lifetime",
                                                                                                                                        "required": true,
                                                                                                                                        "validate": {
                                                                                                                                            "enum": [
                                                                                                                                                "roundtrip",
                                                                                                                                                "execution"
                                                                                                                                            ]
                                                                                                                                        }
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "value",
                                                                                                                                        "type": "any",
                                                                                                                                        "label": "Variable value"
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "interface": [
                                                                                                                                    {
                                                                                                                                        "name": "TaxGroupUsed",
                                                                                                                                        "type": "any",
                                                                                                                                        "label": "TaxGroupUsed"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "id": 160,
                                                                                                                            "module": "builtin:BasicAggregator",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {
                                                                                                                                "feeder": 158
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "TaxGroupUsed": "{{159.TaxGroupUsed}}"
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 9900,
                                                                                                                                    "y": 2100
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "feeder": {
                                                                                                                                        "label": "Iterator [158]"
                                                                                                                                    },
                                                                                                                                    "mapper": {
                                                                                                                                        "label": [
                                                                                                                                            null
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "target": {
                                                                                                                                        "label": "Custom"
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "id": 165,
                                                                                                                            "module": "datastore:AddRecord",
                                                                                                                            "version": 1,
                                                                                                                            "parameters": {
                                                                                                                                "datastore": 24064
                                                                                                                            },
                                                                                                                            "mapper": {
                                                                                                                                "key": "",
                                                                                                                                "data": {
                                                                                                                                    "col01": "SPL",
                                                                                                                                    "col02": "{{toString(148.InvoiceNumber)}}.{{toString(148.LineNumber)}}",
                                                                                                                                    "col03": "INVOICE",
                                                                                                                                    "col04": "{{formatDate(55.DocumentDate; \"YYYY-MM-DD\")}}",
                                                                                                                                    "col05": "{{148.LineQBIncomeAccount}}",
                                                                                                                                    "col06": "",
                                                                                                                                    "col07": "{{148.LineQBClass}}",
                                                                                                                                    "col08": "{{148.LineNetAmount * -1}}",
                                                                                                                                    "col09": "",
                                                                                                                                    "col10": "{{148.LineNotes}}",
                                                                                                                                    "col11": "N",
                                                                                                                                    "col12": "-1",
                                                                                                                                    "col13": "{{148.LineNetAmount}}",
                                                                                                                                    "col14": "{{148.LineQBInvItem}}",
                                                                                                                                    "col15": "{{if(148.LineTaxIDCount = 0; \"N\"; \"Y\")}}",
                                                                                                                                    "col16": "{{get(remove(map(160.array; \"TaxGroupUsed\"); null); 1)}}",
                                                                                                                                    "col17": "N",
                                                                                                                                    "col18": "NOTHING",
                                                                                                                                    "col19": "",
                                                                                                                                    "col20": "",
                                                                                                                                    "col21": "",
                                                                                                                                    "col22": "",
                                                                                                                                    "col23": "",
                                                                                                                                    "col24": "",
                                                                                                                                    "col25": "",
                                                                                                                                    "sortID": "{{toString(148.InvoiceNumber)}}.{{toString(148.LineNumber)}}"
                                                                                                                                },
                                                                                                                                "overwrite": false
                                                                                                                            },
                                                                                                                            "metadata": {
                                                                                                                                "designer": {
                                                                                                                                    "x": 10200,
                                                                                                                                    "y": 2100,
                                                                                                                                    "name": "Add Inv SPL Sales Line - Multi Tax Code"
                                                                                                                                },
                                                                                                                                "restore": {
                                                                                                                                    "datastore": {
                                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                                    },
                                                                                                                                    "overwrite": {
                                                                                                                                        "mode": "chose"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "parameters": [
                                                                                                                                    {
                                                                                                                                        "name": "datastore",
                                                                                                                                        "type": "datastore",
                                                                                                                                        "label": "Data store",
                                                                                                                                        "required": true
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "expect": [
                                                                                                                                    {
                                                                                                                                        "name": "key",
                                                                                                                                        "type": "text",
                                                                                                                                        "label": "Key"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "overwrite",
                                                                                                                                        "type": "boolean",
                                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                                        "required": true
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "name": "data",
                                                                                                                                        "spec": [
                                                                                                                                            {
                                                                                                                                                "name": "sortID",
                                                                                                                                                "type": "number"
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col01",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col02",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col03",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col04",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col05",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col06",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col07",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col08",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col09",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col10",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col11",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col12",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col13",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col14",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col15",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col16",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col17",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col18",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col19",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col20",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col21",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col22",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col23",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col24",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                                "name": "col25",
                                                                                                                                                "type": "text",
                                                                                                                                                "multiline": false
                                                                                                                                            }
                                                                                                                                        ],
                                                                                                                                        "type": "collection",
                                                                                                                                        "label": "Record"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "flow": [
                                                                                                        {
                                                                                                            "id": 169,
                                                                                                            "module": "datastore:AddRecord",
                                                                                                            "version": 1,
                                                                                                            "parameters": {
                                                                                                                "datastore": 24064
                                                                                                            },
                                                                                                            "mapper": {
                                                                                                                "key": "",
                                                                                                                "data": {
                                                                                                                    "col01": "ENDTRNS",
                                                                                                                    "col02": "",
                                                                                                                    "col03": "",
                                                                                                                    "col04": "",
                                                                                                                    "col05": "",
                                                                                                                    "col06": "",
                                                                                                                    "col07": "",
                                                                                                                    "col08": "",
                                                                                                                    "col09": "",
                                                                                                                    "col10": "",
                                                                                                                    "col11": "",
                                                                                                                    "col12": "",
                                                                                                                    "col13": "",
                                                                                                                    "col14": "",
                                                                                                                    "col15": "",
                                                                                                                    "col16": "",
                                                                                                                    "col17": "",
                                                                                                                    "col18": "",
                                                                                                                    "col19": "",
                                                                                                                    "sortID": "{{toString(55.Id)}}.{{toString(length(76.array) + 1)}}"
                                                                                                                },
                                                                                                                "overwrite": false
                                                                                                            },
                                                                                                            "metadata": {
                                                                                                                "designer": {
                                                                                                                    "x": 8700,
                                                                                                                    "y": 2400,
                                                                                                                    "name": "Add ENDTRNS Line"
                                                                                                                },
                                                                                                                "restore": {
                                                                                                                    "datastore": {
                                                                                                                        "label": "WA-QB-Invoice-TMP"
                                                                                                                    },
                                                                                                                    "overwrite": {
                                                                                                                        "mode": "chose"
                                                                                                                    }
                                                                                                                },
                                                                                                                "parameters": [
                                                                                                                    {
                                                                                                                        "name": "datastore",
                                                                                                                        "type": "datastore",
                                                                                                                        "label": "Data store",
                                                                                                                        "required": true
                                                                                                                    }
                                                                                                                ],
                                                                                                                "expect": [
                                                                                                                    {
                                                                                                                        "name": "key",
                                                                                                                        "type": "text",
                                                                                                                        "label": "Key"
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "overwrite",
                                                                                                                        "type": "boolean",
                                                                                                                        "label": "Overwrite an existing record",
                                                                                                                        "required": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "name": "data",
                                                                                                                        "spec": [
                                                                                                                            {
                                                                                                                                "name": "sortID",
                                                                                                                                "type": "number"
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col01",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col02",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col03",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col04",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col05",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col06",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col07",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col08",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col09",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col10",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col11",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col12",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col13",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col14",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col15",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col16",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col17",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col18",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            },
                                                                                                                            {
                                                                                                                                "name": "col19",
                                                                                                                                "type": "text",
                                                                                                                                "multiline": false
                                                                                                                            }
                                                                                                                        ],
                                                                                                                        "type": "collection",
                                                                                                                        "label": "Record"
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "flow": [
                                                                        {
                                                                            "id": 184,
                                                                            "module": "builtin:BasicAggregator",
                                                                            "version": 1,
                                                                            "parameters": {
                                                                                "feeder": 55
                                                                            },
                                                                            "mapper": {
                                                                                "key": "{{81.key}}"
                                                                            },
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 5700,
                                                                                    "y": 2700,
                                                                                    "name": "Aggregate DataStore keys for Invoice Headers"
                                                                                },
                                                                                "restore": {
                                                                                    "feeder": {
                                                                                        "label": "Wild Apricot - Get invoice details [55]"
                                                                                    },
                                                                                    "mapper": {
                                                                                        "label": [
                                                                                            null
                                                                                        ]
                                                                                    },
                                                                                    "target": {
                                                                                        "label": "Custom"
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "id": 195,
                                                                            "module": "builtin:BasicRouter",
                                                                            "version": 1,
                                                                            "filter": {
                                                                                "name": "Pass Invoices that do not have a key",
                                                                                "conditions": [
                                                                                    [
                                                                                        {
                                                                                            "a": "{{184.`__IMTAGGLENGTH__`}}",
                                                                                            "b": "0",
                                                                                            "o": "number:equal"
                                                                                        }
                                                                                    ]
                                                                                ]
                                                                            },
                                                                            "mapper": null,
                                                                            "metadata": {
                                                                                "designer": {
                                                                                    "x": 6092,
                                                                                    "y": 2694
                                                                                }
                                                                            },
                                                                            "routes": [
                                                                                {
                                                                                    "flow": [
                                                                                        {
                                                                                            "id": 185,
                                                                                            "module": "builtin:BasicAggregator",
                                                                                            "version": 1,
                                                                                            "parameters": {
                                                                                                "feeder": 3
                                                                                            },
                                                                                            "filter": {
                                                                                                "name": "",
                                                                                                "conditions": [
                                                                                                    [
                                                                                                        {
                                                                                                            "a": "{{3.Id}}",
                                                                                                            "b": "Dave",
                                                                                                            "o": "text:equal"
                                                                                                        }
                                                                                                    ]
                                                                                                ]
                                                                                            },
                                                                                            "mapper": {
                                                                                                "Id": "{{3.Id}}",
                                                                                                "Value": "{{3.Value}}",
                                                                                                "Contact": "{{3.Contact}}",
                                                                                                "OrderType": "{{3.OrderType}}",
                                                                                                "DocumentDate": "{{3.DocumentDate}}",
                                                                                                "__IMTINDEX__": "{{3.`__IMTINDEX__`}}",
                                                                                                "__IMTLENGTH__": "{{3.`__IMTLENGTH__`}}",
                                                                                                "DocumentNumber": "{{3.DocumentNumber}}"
                                                                                            },
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 6392,
                                                                                                    "y": 2544,
                                                                                                    "name": "Show Invoice IDs that were not added to DataStore"
                                                                                                },
                                                                                                "restore": {
                                                                                                    "feeder": {
                                                                                                        "label": "Wild Apricot - Get invoices list [3]"
                                                                                                    },
                                                                                                    "mapper": {
                                                                                                        "label": [
                                                                                                            null,
                                                                                                            null,
                                                                                                            null,
                                                                                                            null,
                                                                                                            null,
                                                                                                            null,
                                                                                                            null,
                                                                                                            null
                                                                                                        ]
                                                                                                    },
                                                                                                    "target": {
                                                                                                        "label": "Custom"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        },
                                                                                        {
                                                                                            "id": 186,
                                                                                            "module": "util:SetVariable2",
                                                                                            "version": 1,
                                                                                            "parameters": {},
                                                                                            "mapper": {
                                                                                                "name": "UnMappedInvoiceCount",
                                                                                                "scope": "roundtrip",
                                                                                                "value": "{{185.`__IMTAGGLENGTH__`}}"
                                                                                            },
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 6664,
                                                                                                    "y": 2522,
                                                                                                    "name": "Count of UnMapped Invoices"
                                                                                                },
                                                                                                "restore": {
                                                                                                    "scope": {
                                                                                                        "label": "One cycle"
                                                                                                    }
                                                                                                },
                                                                                                "expect": [
                                                                                                    {
                                                                                                        "name": "name",
                                                                                                        "type": "text",
                                                                                                        "label": "Variable name",
                                                                                                        "required": true
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "scope",
                                                                                                        "type": "select",
                                                                                                        "label": "Variable lifetime",
                                                                                                        "required": true,
                                                                                                        "validate": {
                                                                                                            "enum": [
                                                                                                                "roundtrip",
                                                                                                                "execution"
                                                                                                            ]
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "value",
                                                                                                        "type": "any",
                                                                                                        "label": "Variable value"
                                                                                                    }
                                                                                                ],
                                                                                                "interface": [
                                                                                                    {
                                                                                                        "name": "UnMappedInvoiceCount",
                                                                                                        "type": "any",
                                                                                                        "label": "UnMappedInvoiceCount"
                                                                                                    }
                                                                                                ]
                                                                                            }
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "flow": [
                                                                                        {
                                                                                            "id": 196,
                                                                                            "module": "util:TextAggregator",
                                                                                            "version": 1,
                                                                                            "parameters": {
                                                                                                "feeder": 3,
                                                                                                "rowSeparator": ""
                                                                                            },
                                                                                            "mapper": {
                                                                                                "value": "{{3.DocumentNumber}}{{tab}}{{3.Id}}{{tab}}{{3.DocumentDate}}{{tab}}{{3.OrderType}}{{tab}}{{3.Value}}{{tab}}{{3.Contact.Name}}{{tab}}{{3.Contact.Id}}{{tab}}{{3.Contact.Url}}{{tab}}Invoice bundle {{3.`__IMTINDEX__`}} of {{3.`__IMTLENGTH__`}}"
                                                                                            },
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 6472,
                                                                                                    "y": 2944
                                                                                                },
                                                                                                "restore": {
                                                                                                    "feeder": {
                                                                                                        "label": "Wild Apricot - Get invoices list [3]"
                                                                                                    },
                                                                                                    "rowSeparator": {
                                                                                                        "label": ""
                                                                                                    }
                                                                                                },
                                                                                                "parameters": [
                                                                                                    {
                                                                                                        "name": "rowSeparator",
                                                                                                        "type": "select",
                                                                                                        "label": "Row separator",
                                                                                                        "validate": {
                                                                                                            "enum": [
                                                                                                                "\n",
                                                                                                                "\t",
                                                                                                                "other"
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                ],
                                                                                                "expect": [
                                                                                                    {
                                                                                                        "name": "value",
                                                                                                        "type": "text",
                                                                                                        "label": "Text",
                                                                                                        "multiline": true
                                                                                                    }
                                                                                                ]
                                                                                            }
                                                                                        },
                                                                                        {
                                                                                            "id": 197,
                                                                                            "module": "box:ActionUploadFile",
                                                                                            "version": 2,
                                                                                            "parameters": {
                                                                                                "account": 1737554
                                                                                            },
                                                                                            "filter": {
                                                                                                "name": "Create Error file if text records exist",
                                                                                                "conditions": [
                                                                                                    [
                                                                                                        {
                                                                                                            "a": "{{length(196.text)}}",
                                                                                                            "b": "0",
                                                                                                            "o": "number:greater"
                                                                                                        }
                                                                                                    ]
                                                                                                ]
                                                                                            },
                                                                                            "mapper": {
                                                                                                "data": "Invoice Doc Number{{tab}}Invoice ID{{tab}}Invoice Date{{tab}}Invoice Order Type{{tab}}Invoice Value{{tab}}Contact Name{{tab}}Contact ID{{tab}}Contact URL{{tab}}Bundle position{{newline}}{{196.text}}",
                                                                                                "fileName": "{{replace(22.`Output File Location`.`Error Invoice Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DDTHH-mm-ss\"))}}.iif",
                                                                                                "folderId": "/123446250794/123446580730"
                                                                                            },
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 6772,
                                                                                                    "y": 2944,
                                                                                                    "name": "Create and Load Invoice ERROR IIF File"
                                                                                                },
                                                                                                "restore": {
                                                                                                    "account": {
                                                                                                        "label": "MCABC-Box-Folder (dwreed@rockitproject.com)"
                                                                                                    },
                                                                                                    "folderId": {
                                                                                                        "mode": "chose",
                                                                                                        "path": [
                                                                                                            "WAQM-MCABC",
                                                                                                            "MCABC-WA-Invoice-IIF-TEST"
                                                                                                        ]
                                                                                                    }
                                                                                                },
                                                                                                "parameters": [
                                                                                                    {
                                                                                                        "name": "account",
                                                                                                        "type": "account",
                                                                                                        "label": "Connection",
                                                                                                        "required": true
                                                                                                    }
                                                                                                ],
                                                                                                "expect": [
                                                                                                    {
                                                                                                        "mean": "name",
                                                                                                        "name": "fileName",
                                                                                                        "type": "filename",
                                                                                                        "label": "File name",
                                                                                                        "required": true,
                                                                                                        "validate": {
                                                                                                            "max": 200
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "mean": "data",
                                                                                                        "name": "data",
                                                                                                        "type": "buffer",
                                                                                                        "label": "Data",
                                                                                                        "required": true
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "folderId",
                                                                                                        "type": "folder",
                                                                                                        "label": "Folder",
                                                                                                        "required": true
                                                                                                    }
                                                                                                ]
                                                                                            }
                                                                                        },
                                                                                        {
                                                                                            "id": 202,
                                                                                            "module": "email:ActionSendEmail",
                                                                                            "version": 7,
                                                                                            "parameters": {
                                                                                                "account": 1447663,
                                                                                                "saveAfterSent": false
                                                                                            },
                                                                                            "mapper": {
                                                                                                "cc": [
                                                                                                    "{{22.`Notification Emails`.`Support Email Address`}}"
                                                                                                ],
                                                                                                "to": [
                                                                                                    "{{22.`Notification Emails`.`Company Email Address`}}"
                                                                                                ],
                                                                                                "bcc": [],
                                                                                                "from": "",
                                                                                                "html": "The WAQM Integromat job completed and generated an Invoice ERROR IIF File.  Some records did not successfully map for Quickbooks upload.<br><br>\nReview the Invoices to see if new Member Levels, Event Tags, or other discrepancies exist.<br><br>\n\nCompany: {{22.`WA Org Name`}}<br>\nFilename: {{replace(22.`Output File Location`.`Error Invoice Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DD\"))}}THH-mm-ss.iif<br>\nFile ID: {{197.id}}<br>\nFile Location: {{22.`Output File Location`.`Invoice Folder Path`}}<br>\nFile URL: <a href=https://app.box.com/file/{{197.id}}>Link for box</a><br>\nRun Type: {{22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type`}}<br>\nStart Date: {{formatDate(if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Manual Dates\"; parseDate(22.`WA INVOICE Time Periods`.`Manual Start Date`; \"YYYY-MM-DD\"); if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Scheduled\"; addMonths(now; \"-\" + 22.`WA INVOICE Time Periods`.`Scheduled Number of Months Back`); addMonths(now; -2))); \"YYYY-MM-DD\")}}<br>\nEnd Date: {{if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Scheduled\"; formatDate(now; \"YYY-MM-DD\"); 22.`WA INVOICE Time Periods`.`Manual End Date`)}}<br>\n<br>",
                                                                                                "sender": "",
                                                                                                "headers": [],
                                                                                                "replyTo": "",
                                                                                                "subject": "WAQM Notice - Invoice ERROR File Generated ",
                                                                                                "priority": "normal",
                                                                                                "inReplyTo": "",
                                                                                                "references": [],
                                                                                                "attachments": [],
                                                                                                "contentType": "html"
                                                                                            },
                                                                                            "metadata": {
                                                                                                "designer": {
                                                                                                    "x": 7072,
                                                                                                    "y": 2944,
                                                                                                    "name": "Send Invoice ERROR email notification"
                                                                                                },
                                                                                                "restore": {
                                                                                                    "cc": {
                                                                                                        "mode": "chose",
                                                                                                        "items": [
                                                                                                            "undefined"
                                                                                                        ]
                                                                                                    },
                                                                                                    "to": {
                                                                                                        "mode": "chose",
                                                                                                        "items": [
                                                                                                            "undefined"
                                                                                                        ]
                                                                                                    },
                                                                                                    "bcc": {
                                                                                                        "mode": "chose",
                                                                                                        "items": []
                                                                                                    },
                                                                                                    "account": {
                                                                                                        "label": "SMTP - alex@newpathconsulting.com (SMTP alex@newpathconsulting.com)"
                                                                                                    },
                                                                                                    "headers": {
                                                                                                        "items": []
                                                                                                    },
                                                                                                    "priority": {
                                                                                                        "label": "Normal"
                                                                                                    },
                                                                                                    "references": {
                                                                                                        "mode": "chose",
                                                                                                        "items": []
                                                                                                    },
                                                                                                    "attachments": {
                                                                                                        "mode": "chose",
                                                                                                        "items": []
                                                                                                    },
                                                                                                    "contentType": {
                                                                                                        "label": "HTML"
                                                                                                    },
                                                                                                    "saveAfterSent": {
                                                                                                        "label": "No"
                                                                                                    }
                                                                                                },
                                                                                                "parameters": [
                                                                                                    {
                                                                                                        "name": "account",
                                                                                                        "type": "account",
                                                                                                        "label": "Connection",
                                                                                                        "required": true
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "saveAfterSent",
                                                                                                        "type": "select",
                                                                                                        "label": "Save message after sending",
                                                                                                        "required": true,
                                                                                                        "validate": {
                                                                                                            "enum": [
                                                                                                                true,
                                                                                                                false
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                ],
                                                                                                "expect": [
                                                                                                    {
                                                                                                        "name": "to",
                                                                                                        "spec": {
                                                                                                            "name": "email",
                                                                                                            "type": "email",
                                                                                                            "label": "Email address",
                                                                                                            "required": true
                                                                                                        },
                                                                                                        "type": "array",
                                                                                                        "label": "To",
                                                                                                        "labels": {
                                                                                                            "add": "Add a recipient",
                                                                                                            "edit": "Edit a recipient"
                                                                                                        },
                                                                                                        "required": true
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "subject",
                                                                                                        "type": "text",
                                                                                                        "label": "Subject"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "contentType",
                                                                                                        "type": "select",
                                                                                                        "label": "Content Type",
                                                                                                        "required": true,
                                                                                                        "validate": {
                                                                                                            "enum": [
                                                                                                                "html",
                                                                                                                "text"
                                                                                                            ]
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "attachments",
                                                                                                        "spec": [
                                                                                                            {
                                                                                                                "name": "fileName",
                                                                                                                "type": "filename",
                                                                                                                "label": "File name",
                                                                                                                "required": true,
                                                                                                                "semantic": "file:name"
                                                                                                            },
                                                                                                            {
                                                                                                                "name": "data",
                                                                                                                "type": "buffer",
                                                                                                                "label": "Data",
                                                                                                                "required": true,
                                                                                                                "semantic": "file:data"
                                                                                                            },
                                                                                                            {
                                                                                                                "name": "cid",
                                                                                                                "type": "text",
                                                                                                                "label": "Content-ID"
                                                                                                            }
                                                                                                        ],
                                                                                                        "type": "array",
                                                                                                        "label": "Attachments",
                                                                                                        "labels": {
                                                                                                            "add": "Add an attachment",
                                                                                                            "edit": "Edit an attachment"
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "cc",
                                                                                                        "spec": {
                                                                                                            "name": "email",
                                                                                                            "type": "email",
                                                                                                            "label": "Email address"
                                                                                                        },
                                                                                                        "type": "array",
                                                                                                        "label": "Copy recipient",
                                                                                                        "labels": {
                                                                                                            "add": "Add a copy recipient",
                                                                                                            "edit": "Edit a copy recipient"
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "bcc",
                                                                                                        "spec": {
                                                                                                            "name": "email",
                                                                                                            "type": "email",
                                                                                                            "label": "Email address"
                                                                                                        },
                                                                                                        "type": "array",
                                                                                                        "label": "Blind copy recipient",
                                                                                                        "labels": {
                                                                                                            "add": "Add a blind copy recipient",
                                                                                                            "edit": "Edit a blind copy recipient"
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "from",
                                                                                                        "type": "text",
                                                                                                        "label": "From"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "sender",
                                                                                                        "type": "text",
                                                                                                        "label": "Sender"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "replyTo",
                                                                                                        "type": "text",
                                                                                                        "label": "Reply-To"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "inReplyTo",
                                                                                                        "type": "text",
                                                                                                        "label": "In-Reply-To"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "references",
                                                                                                        "spec": {
                                                                                                            "type": "text",
                                                                                                            "label": "Reference",
                                                                                                            "required": true
                                                                                                        },
                                                                                                        "type": "array",
                                                                                                        "label": "References"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "priority",
                                                                                                        "type": "select",
                                                                                                        "label": "Priority",
                                                                                                        "validate": {
                                                                                                            "enum": [
                                                                                                                "high",
                                                                                                                "normal",
                                                                                                                "low"
                                                                                                            ]
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "headers",
                                                                                                        "spec": [
                                                                                                            {
                                                                                                                "name": "key",
                                                                                                                "type": "text",
                                                                                                                "label": "Key",
                                                                                                                "required": true
                                                                                                            },
                                                                                                            {
                                                                                                                "name": "value",
                                                                                                                "type": "text",
                                                                                                                "label": "Value",
                                                                                                                "required": true
                                                                                                            }
                                                                                                        ],
                                                                                                        "type": "array",
                                                                                                        "label": "Headers"
                                                                                                    },
                                                                                                    {
                                                                                                        "name": "html",
                                                                                                        "type": "text",
                                                                                                        "label": "Content"
                                                                                                    }
                                                                                                ],
                                                                                                "advanced": true
                                                                                            }
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "flow": [
                                        {
                                            "id": 41,
                                            "module": "datastore:SearchRecord",
                                            "version": 1,
                                            "parameters": {
                                                "limit": null,
                                                "datastore": 24064,
                                                "continueWhenNoRes": false
                                            },
                                            "filter": {
                                                "name": "Send results to DropBox",
                                                "conditions": []
                                            },
                                            "mapper": {
                                                "sort": [
                                                    {
                                                        "key": "sortID",
                                                        "order": 1
                                                    }
                                                ],
                                                "filter": []
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 2400,
                                                    "y": 3600,
                                                    "name": "Pull all records from TMP"
                                                },
                                                "restore": {
                                                    "sort": {
                                                        "items": [
                                                            {
                                                                "key": {
                                                                    "mode": "chose",
                                                                    "label": "sortID"
                                                                },
                                                                "order": {
                                                                    "mode": "chose",
                                                                    "label": "Ascending"
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "datastore": {
                                                        "label": "WA-QB-Invoice-TMP"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "datastore",
                                                        "type": "datastore",
                                                        "label": "Data store",
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "limit",
                                                        "type": "uinteger",
                                                        "label": "Limit"
                                                    },
                                                    {
                                                        "name": "continueWhenNoRes",
                                                        "type": "boolean",
                                                        "label": "Continue the execution of the route even if the module returns no results"
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "filter",
                                                        "type": "filter",
                                                        "label": "Filter",
                                                        "options": {
                                                            "store": "rpc://datastore@1.5.7/RpcGetUDTKeys"
                                                        },
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "sort",
                                                        "spec": [
                                                            {
                                                                "name": "key",
                                                                "type": "select",
                                                                "label": "Key",
                                                                "required": true
                                                            },
                                                            {
                                                                "name": "order",
                                                                "type": "select",
                                                                "label": "Order",
                                                                "options": [
                                                                    {
                                                                        "label": "Ascending",
                                                                        "value": 1
                                                                    },
                                                                    {
                                                                        "label": "Descending",
                                                                        "value": -1
                                                                    }
                                                                ],
                                                                "required": true
                                                            }
                                                        ],
                                                        "type": "array",
                                                        "label": "Sort"
                                                    }
                                                ],
                                                "interface": [
                                                    {
                                                        "name": "key",
                                                        "type": "text",
                                                        "label": "Key"
                                                    },
                                                    {
                                                        "name": "data",
                                                        "spec": [
                                                            {
                                                                "name": "sortID",
                                                                "type": "number",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false
                                                            },
                                                            {
                                                                "name": "col01",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col02",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col03",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col04",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col05",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col06",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col07",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col08",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col09",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col10",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col11",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col12",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col13",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col14",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col15",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col16",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col17",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col18",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col19",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col20",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col21",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col22",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col23",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col24",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            },
                                                            {
                                                                "name": "col25",
                                                                "type": "text",
                                                                "label": null,
                                                                "default": null,
                                                                "required": false,
                                                                "multiline": false
                                                            }
                                                        ],
                                                        "type": "collection",
                                                        "label": "Record"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": 52,
                                            "module": "util:TextAggregator",
                                            "version": 1,
                                            "parameters": {
                                                "feeder": 41,
                                                "rowSeparator": "\n"
                                            },
                                            "mapper": {
                                                "value": "{{41.data.col01}}{{tab}}{{41.data.col02}}{{tab}}{{41.data.col03}}{{tab}}{{41.data.col04}}{{tab}}{{41.data.col05}}{{tab}}{{41.data.col06}}{{tab}}{{41.data.col07}}{{tab}}{{41.data.col08}}{{tab}}{{41.data.col09}}{{tab}}{{41.data.col10}}{{tab}}{{41.data.col11}}{{tab}}{{41.data.col12}}{{tab}}{{41.data.col13}}{{tab}}{{41.data.col14}}{{tab}}{{41.data.col15}}{{tab}}{{41.data.col16}}{{tab}}{{41.data.col17}}{{tab}}{{41.data.col18}}{{tab}}{{41.data.col19}}{{tab}}{{41.data.col20}}{{tab}}{{41.data.col21}}{{tab}}{{41.data.col22}}{{tab}}{{41.data.col23}}{{tab}}{{41.data.col24}}{{tab}}{{41.data.col25}}"
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 2700,
                                                    "y": 3600
                                                },
                                                "restore": {
                                                    "feeder": {
                                                        "label": "Pull all records from TMP - Search records [41]"
                                                    },
                                                    "rowSeparator": {
                                                        "label": "New row"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "rowSeparator",
                                                        "type": "select",
                                                        "label": "Row separator",
                                                        "validate": {
                                                            "enum": [
                                                                "\n",
                                                                "\t",
                                                                "other"
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "value",
                                                        "type": "text",
                                                        "label": "Text",
                                                        "multiline": true
                                                    }
                                                ],
                                                "advanced": true
                                            }
                                        },
                                        {
                                            "id": 171,
                                            "module": "box:ActionUploadFile",
                                            "version": 2,
                                            "parameters": {
                                                "account": 1737554
                                            },
                                            "mapper": {
                                                "data": "{{52.text}}",
                                                "fileName": "{{replace(22.`Output File Location`.`Success Invoice Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DDTHH-mm-ss\"))}}.iif",
                                                "folderId": "/123446250794/123446580730"
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 3300,
                                                    "y": 3600,
                                                    "name": "Create and Load Invoice IIF File"
                                                },
                                                "restore": {
                                                    "account": {
                                                        "label": "MCABC-Box-Folder (dwreed@rockitproject.com)"
                                                    },
                                                    "folderId": {
                                                        "mode": "chose",
                                                        "path": [
                                                            "WAQM-MCABC",
                                                            "MCABC-WA-Invoice-IIF-TEST"
                                                        ]
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "account",
                                                        "type": "account",
                                                        "label": "Connection",
                                                        "required": true
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "mean": "name",
                                                        "name": "fileName",
                                                        "type": "filename",
                                                        "label": "File name",
                                                        "required": true,
                                                        "validate": {
                                                            "max": 200
                                                        }
                                                    },
                                                    {
                                                        "mean": "data",
                                                        "name": "data",
                                                        "type": "buffer",
                                                        "label": "Data",
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "folderId",
                                                        "type": "folder",
                                                        "label": "Folder",
                                                        "required": true
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "id": 200,
                                            "module": "email:ActionSendEmail",
                                            "version": 7,
                                            "parameters": {
                                                "account": 1447663,
                                                "saveAfterSent": false
                                            },
                                            "mapper": {
                                                "cc": [
                                                    "{{22.`Notification Emails`.`Support Email Address`}}"
                                                ],
                                                "to": "{{22.`Notification Emails`.`Company Email Address`}}",
                                                "bcc": [],
                                                "from": "",
                                                "html": "The WAQM Integromat job completed and generated an Invoice IIF File for QuickBooks upload.<br><br>\n\nCompany: {{22.`WA Org Name`}}<br>\nFilename: {{replace(22.`Output File Location`.`Success Invoice Filename Format`; \"{DateTime}\"; formatDate(now; \"YYYY-MM-DD\"))}}THH-mm-ss.iif<br>\nFile ID: {{171.id}}<br>\nFile Location: {{22.`Output File Location`.`Invoice Folder Path`}}<br>\nFile URL: <a href=https://app.box.com/file/{{171.id}}>Link for box</a><br>\nRun Type: {{22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type`}}<br>\nStart Date: {{formatDate(if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Manual Dates\"; parseDate(22.`WA INVOICE Time Periods`.`Manual Start Date`; \"YYYY-MM-DD\"); if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Scheduled\"; addMonths(now; \"-\" + 22.`WA INVOICE Time Periods`.`Scheduled Number of Months Back`); addMonths(now; -2))); \"YYYY-MM-DD\")}}<br>\nEnd Date: {{if(22.`WA INVOICE Time Periods`.`Invoice Job Scheduling Type` = \"Scheduled\"; formatDate(now; \"YYY-MM-DD\"); 22.`WA INVOICE Time Periods`.`Manual End Date`)}}<br>\n<br>",
                                                "sender": "",
                                                "headers": [],
                                                "replyTo": "",
                                                "subject": "WAQM Notice - Invoice File Generated ",
                                                "priority": "normal",
                                                "inReplyTo": "",
                                                "references": [],
                                                "attachments": [],
                                                "contentType": "html"
                                            },
                                            "metadata": {
                                                "designer": {
                                                    "x": 3691,
                                                    "y": 3587,
                                                    "name": "Send Invoice IIF email notification"
                                                },
                                                "restore": {
                                                    "cc": {
                                                        "mode": "chose",
                                                        "items": [
                                                            "undefined"
                                                        ]
                                                    },
                                                    "to": {
                                                        "mode": "edit"
                                                    },
                                                    "bcc": {
                                                        "mode": "chose",
                                                        "items": []
                                                    },
                                                    "account": {
                                                        "label": "SMTP - alex@newpathconsulting.com (SMTP alex@newpathconsulting.com)"
                                                    },
                                                    "headers": {
                                                        "items": []
                                                    },
                                                    "priority": {
                                                        "label": "Normal"
                                                    },
                                                    "references": {
                                                        "mode": "chose",
                                                        "items": []
                                                    },
                                                    "attachments": {
                                                        "mode": "chose",
                                                        "items": []
                                                    },
                                                    "contentType": {
                                                        "label": "HTML"
                                                    },
                                                    "saveAfterSent": {
                                                        "label": "No"
                                                    }
                                                },
                                                "parameters": [
                                                    {
                                                        "name": "account",
                                                        "type": "account",
                                                        "label": "Connection",
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "saveAfterSent",
                                                        "type": "select",
                                                        "label": "Save message after sending",
                                                        "required": true,
                                                        "validate": {
                                                            "enum": [
                                                                true,
                                                                false
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "expect": [
                                                    {
                                                        "name": "to",
                                                        "spec": {
                                                            "name": "email",
                                                            "type": "email",
                                                            "label": "Email address",
                                                            "required": true
                                                        },
                                                        "type": "array",
                                                        "label": "To",
                                                        "labels": {
                                                            "add": "Add a recipient",
                                                            "edit": "Edit a recipient"
                                                        },
                                                        "required": true
                                                    },
                                                    {
                                                        "name": "subject",
                                                        "type": "text",
                                                        "label": "Subject"
                                                    },
                                                    {
                                                        "name": "contentType",
                                                        "type": "select",
                                                        "label": "Content Type",
                                                        "required": true,
                                                        "validate": {
                                                            "enum": [
                                                                "html",
                                                                "text"
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "name": "attachments",
                                                        "spec": [
                                                            {
                                                                "name": "fileName",
                                                                "type": "filename",
                                                                "label": "File name",
                                                                "required": true,
                                                                "semantic": "file:name"
                                                            },
                                                            {
                                                                "name": "data",
                                                                "type": "buffer",
                                                                "label": "Data",
                                                                "required": true,
                                                                "semantic": "file:data"
                                                            },
                                                            {
                                                                "name": "cid",
                                                                "type": "text",
                                                                "label": "Content-ID"
                                                            }
                                                        ],
                                                        "type": "array",
                                                        "label": "Attachments",
                                                        "labels": {
                                                            "add": "Add an attachment",
                                                            "edit": "Edit an attachment"
                                                        }
                                                    },
                                                    {
                                                        "name": "cc",
                                                        "spec": {
                                                            "name": "email",
                                                            "type": "email",
                                                            "label": "Email address"
                                                        },
                                                        "type": "array",
                                                        "label": "Copy recipient",
                                                        "labels": {
                                                            "add": "Add a copy recipient",
                                                            "edit": "Edit a copy recipient"
                                                        }
                                                    },
                                                    {
                                                        "name": "bcc",
                                                        "spec": {
                                                            "name": "email",
                                                            "type": "email",
                                                            "label": "Email address"
                                                        },
                                                        "type": "array",
                                                        "label": "Blind copy recipient",
                                                        "labels": {
                                                            "add": "Add a blind copy recipient",
                                                            "edit": "Edit a blind copy recipient"
                                                        }
                                                    },
                                                    {
                                                        "name": "from",
                                                        "type": "text",
                                                        "label": "From"
                                                    },
                                                    {
                                                        "name": "sender",
                                                        "type": "text",
                                                        "label": "Sender"
                                                    },
                                                    {
                                                        "name": "replyTo",
                                                        "type": "text",
                                                        "label": "Reply-To"
                                                    },
                                                    {
                                                        "name": "inReplyTo",
                                                        "type": "text",
                                                        "label": "In-Reply-To"
                                                    },
                                                    {
                                                        "name": "references",
                                                        "spec": {
                                                            "type": "text",
                                                            "label": "Reference",
                                                            "required": true
                                                        },
                                                        "type": "array",
                                                        "label": "References"
                                                    },
                                                    {
                                                        "name": "priority",
                                                        "type": "select",
                                                        "label": "Priority",
                                                        "validate": {
                                                            "enum": [
                                                                "high",
                                                                "normal",
                                                                "low"
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "name": "headers",
                                                        "spec": [
                                                            {
                                                                "name": "key",
                                                                "type": "text",
                                                                "label": "Key",
                                                                "required": true
                                                            },
                                                            {
                                                                "name": "value",
                                                                "type": "text",
                                                                "label": "Value",
                                                                "required": true
                                                            }
                                                        ],
                                                        "type": "array",
                                                        "label": "Headers"
                                                    },
                                                    {
                                                        "name": "html",
                                                        "type": "text",
                                                        "label": "Content"
                                                    }
                                                ],
                                                "advanced": true
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "metadata": {
        "version": 1,
        "scenario": {
            "roundtrips": 1,
            "maxErrors": 3,
            "autoCommit": false,
            "sequential": false,
            "confidential": false,
            "dataloss": false,
            "dlq": false
        },
        "designer": {
            "orphans": [],
            "notes": [
                {
                    "id": 81,
                    "text": "IsPaid Flag from WA does not modify QB invoice.  Depends on payment getting applied separately inside QB.",
                    "filter": false
                },
                {
                    "id": 131,
                    "text": "Determine the proper warning mechanism for situations where a Tax Group is not found in the config. ",
                    "filter": false
                },
                {
                    "id": 80,
                    "text": "Determine the proper warning mechanism for a WA invoice that is invalid for QB purposes.",
                    "filter": false
                },
                {
                    "id": 145,
                    "text": "US version - \"NoTax\" lines are hard-coded.   Assumes QB uses the same \"NoTax\" definition.  Need to determine if/how to point back to Config.    This is true for the Tax Group route and the multiple single tax route.",
                    "filter": false
                },
                {
                    "id": 93,
                    "text": "Need different approach for sort ID to keep data store lines in the proper sequence.   This approach will use too many Ops.  Will Data store keys be in ascending order automatically?",
                    "filter": false
                },
                {
                    "id": 113,
                    "text": "need logic to determine which Tax Group corresponds to the included single tax rates.   Only important for showing the proper \"no-tax\" line on the visual invoice for reference.  the individual tax rate lines will calculate tax correctly.",
                    "filter": false
                }
            ]
        },
        "zone": "eu1.integromat.com"
    }
}